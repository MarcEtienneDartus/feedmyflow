(this.webpackJsonpfeedmyflow=this.webpackJsonpfeedmyflow||[]).push([[0],{168:function(e){e.exports=JSON.parse('{"header":{"home":"Home","dashboard":"Dashboard","about":"About","contact":"Contact","contactUrl":"https://www.linkedin.com/in/emma-quetel/?locale=en_US","disconnect":"Log Out","connect":"Log In","language":{"english":"English","french":"French"},"language-small":{"english":"En","french":"Fr"}},"about":{"text":{"usage":["1 - Log in / Sign in with ==Linkedin== on the home page \ud83d\udcd1","2 - ==Schedule your post== by clicking on the new post button, or by clicking on any day you would like your post to be scheduled \ud83d\udcc5","3 - Configure your post according to the ==guide below==, and you\u2019re done! \ud83d\udc4d"],"guide":["1 - The 2 ==required fields== to schedule a post are content and date \u231a","2 - You can also add a ==title, a link and a description==, the post will look like the picture on the right \ud83d\udc49","3 - Note that you can ==update/delete== your post anytime by clicking on it on the calendar \ud83d\udcaa"],"team":["We are a team of passionate CS students from France \ud83e\udd50","We wanted to solve a simple problem which is automating Linkedin posting for free, and this is where [it all started](https://github.com/medartus/feedmyflow) ! \ud83d\ude80","We love challenging our skills so checkout our other projects [Swizzl](www.swizzl.fr), [BikeStations](https://bikestations.netlify.com/) and [Loa](https://loabot.netlify.com/) \ud83e\udd16"]},"title":{"usage":"How to use it?","guide":"Guide","team":"About the team"}},"calendar":{"date":"Date: ","content":"Content: ","publish":"Publisher: ","schedule":"Schedule your next post","automate":"Automating your feed is just one click away","upcoming":"UPCOMING POSTS","create":"CREATE POST","messageCalendar":{"allDay":"All Day","previous":"back","next":"Next","today":"Today","month":"Month","week":"Week","day":"Day","agenda":"Agenda","date":"Date","time":"Hour","showMore":"+ {{total}} more"}},"home":{"go":"LET\'S GO","slogan":"Free Linkedin post scheduling"},"creationModal":{"validDate":{"valid":"Please input a valid date.","before":"The date musn\'t be before now"},"deleteDate":{"confirm":"Are you sure you want to delete that post ?","delete":"Delete","cancel":"Cancel"},"publicationTime":{"quarter":"Posts are scheduled every 15 minutes."},"input":{"date":"Publication date","time":"Publication time","shareCommentary":"Text","mediaUrl":"Link","mediaTitle":"Title","mediaDescription":"Description","visibility":"Visibility","visibilityValue":{"public":"Public","connexions":"Connexions"}},"button":{"delete":"Delete","update":"Update","create":"Create","uploadContent":"Upload content","deleteContent":"Delete content"},"text":{"create":"Post creation","schedule":"Post scheduled for the {{rawDate}} at {{rawTime}}","publishAs":"Publisher:"},"upload":{"notSupportedFormat":"The file format is not supported","fail":"Image Upload impossible!"}}}')},169:function(e){e.exports=JSON.parse('{"header":{"home":"Accueil","dashboard":"Tableau de bord","about":"\xc0 Propos","contact":"Contact","contactUrl":"https://www.linkedin.com/in/emma-quetel/","disconnect":"D\xe9connexion","connect":"Connexion","language":{"english":"Anglais","french":"Fran\xe7ais"},"language-small":{"english":"En","french":"Fr"}},"about":{"text":{"usage":["1 - Connexion / Inscription avec ==Linkedin== sur la page d\'accueil \ud83d\udcd1","2 - ==Planifiez votre publication== en cliquant sur le boutton de cr\xe9ation, ou en cliquant sur n\'importe quel jour sur lequel vous voulez planifier votre publication \ud83d\udcc5","3 - Configurez votre publication en fonction du ==guide ci-dessous==, et c\'est fini ! \ud83d\udc4d"],"guide":["1 - Les 2 ==champs requis== pour programmer une publication sont le contenu et la date \u231a","2 - Vous pouvez aussi ajouter ==un titre, un lien et une description==, la publication ressemblera \xe0 l\'image sur la droite \ud83d\udc49","3 - Notez que vous pouvez ==Mettre \xe0 jour / supprimer== votre publication n\'importe quand en cliquant dessus dans le callendrier \ud83d\udcaa"],"team":["Nous sommes une \xe9quipe fran\xe7aise de d\xe9veloppeurs passion\xe9s \ud83e\udd50","Nous voulons r\xe9soudre un probl\xe8me simple qu\'est l\'automatisation de publication sur LinkedIn gratuitement, et [c\'est comme cela que tout a commenc\xe9...](https://github.com/medartus/feedmyflow) ! \ud83d\ude80","Nous aimons tester nos comp\xe9tences, donc venez voir nos autres projets [Swizzl](www.swizzl.fr), [BikeStations](https://bikestations.netlify.com/) et [Loa](https://loabot.netlify.com/) \ud83e\udd16"]},"title":{"usage":"Comment l\'utiliser ?","guide":"Guide","team":"\xc0 Propos de l\'\xe9quipe"}},"calendar":{"date":"Date : ","content":"Contenu : ","publish":"Publicateur : ","schedule":"Planifier vos publications","automate":"Automatisez votre flux en juste un clic","upcoming":"PROCHAINS POSTS","create":"NOUVEAU POST","messageCalendar":{"allDay":"Journ\xe9e","previous":"Pr\xe9c\xe9dent","next":"Suivant","today":"Aujourd\'hui","month":"Mois","week":"Semaine","day":"Jour","agenda":"Agenda","date":"Date","time":"heure","showMore":"+ {{total}} de plus"}},"home":{"go":"C\'EST PARTI","slogan":"Planificateur gratuit de publication Linkedin"},"creationModal":{"validDate":{"valid":"Merci de mettre une date valide","past":"La date ne doit pas \xeatre ant\xe9rieur \xe0 maintenant"},"deleteDate":{"confirm":"Etes vous sur de vouloir supprimer ce post ?","delete":"Supprimer","cancel":"Annuler"},"publicationTime":{"quarter":"Les messages sont post\xe9s toutes les 15 minutes."},"input":{"date":"Date de publication","time":"Heure de publication","shareCommentary":"Texte","mediaUrl":"Lien","mediaTitle":"Titre","mediaDescription":"Description","visibility":"Visibilit\xe9","visibilityValue":{"public":"Publique","connexions":"Relations"}},"button":{"delete":"Suppresion","update":"Mise \xe0 jour","create":"Creation","uploadContent":"Upload contenu","deleteContent":"Supprimer contenu"},"text":{"create":"Cr\xe9ation de la publication","schedule":"Publication pr\xe9vue pour le {{rawDate}} \xe0 {{rawTime}}","publishAs":"Publicateur :"},"upload":{"notSupportedFormat":"Le format du fichier n\'est pas support\xe9","fail":"Upload de l\'image impossible !"}}}')},177:function(e,t,a){e.exports=a.p+"static/media/linkedin.1eec46a7.jpg"},178:function(e,t,a){e.exports=a.p+"static/media/post.408cb2b1.svg"},202:function(e,t,a){e.exports=a.p+"static/media/empty.08da03f7.svg"},203:function(e,t,a){e.exports=a.p+"static/media/team.76d438d7.svg"},204:function(e,t,a){e.exports=a.p+"static/media/setup.429b7f86.svg"},205:function(e,t,a){e.exports=a.p+"static/media/exemple.4e107ac4.png"},224:function(e,t,a){e.exports=a(363)},229:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},253:function(e,t,a){},282:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(9),r=a.n(i),c=(a(229),a(135)),l=a(167),s=a(82),u={en:{translation:a(168)},fr:{translation:a(169)}};c.a.use(l.a).use(s.e).init({resources:u,fallbackLng:"en",interpolation:{escapeValue:!1}});c.a;var d=a(93),m=a(25),p=a(27),f=a(411),h=a(395),b=a(404),g=a(399),E=a(6),v=a(213),y=a(13),C=a(83),O=a.n(C),w=a(124),T=a(208),j=a(172),N=a.n(j).a.initializeApp({apiKey:"AIzaSyChVTR8whxQvgeDN_elGu9-xmWB-UpyUbg",authDomain:"feedmyflow.firebaseapp.com",databaseURL:"https://feedmyflow.firebaseio.com",projectId:"feedmyflow",storageBucket:"feedmyflow.appspot.com",messagingSenderId:"159392585747",appId:"1:159392585747:web:4ac62c97775c8b7d7587e6",measurementId:"G-JJ9Z5RNNSC"}),k=Object(n.createContext)();function S(e){var t=e.children,a=I();return o.a.createElement(k.Provider,{value:a},t)}var x=function(){return Object(n.useContext)(k)},I=function(){var e=Object(n.useState)({haveTriedLogin:!1,isConnected:!1,user:void 0,firebaseTestLogin:!1}),t=Object(p.a)(e,2),a=t[0],o=t[1],i=new T.a,r=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(window.location.href)||[null,""])[1].replace(/\+/g,"%20"))||null},c=function(){var e=Object(w.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"GET"});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){return new Promise((function(t,a){console.log("firebase init"),N.auth().signInWithCustomToken(e).then((function(){console.log("loged in"),t()})).catch((function(e){console.log("not loged in"),i.remove("token"),a(e)}))}))},s=function e(t,n){console.log(a),a.firebaseTestLogin||t>=10?a.isConnected?n():window.location.href="https://us-central1-feedmyflow.cloudfunctions.net/redirect":setTimeout((function(){e(t+1,n)}),500)};return Object(n.useEffect)((function(){var e=N.auth().onAuthStateChanged((function(e){if(e){console.log("status change connected");try{o((function(t){return Object(y.a)(Object(y.a)({},t),{},{isConnected:!0,user:e,haveTriedLogin:!0,firebaseTestLogin:!0})}))}catch(t){console.log(t)}}else o((function(e){return Object(y.a)(Object(y.a)({},e),{},{isConnected:!1,user:void 0,haveTriedLogin:!1,firebaseTestLogin:!0})}))}));return function(){return e()}}),[]),{authStatus:a,signOut:function(e){return N.auth().signOut().then((function(){o(Object(y.a)(Object(y.a)({},a),{},{isConnected:!1,user:void 0,haveTriedLogin:!1})),e.history.push("/")}))},signIn:function(e,t){return new Promise((function(n,o){a.isConnected?n():new Promise(function(){var e=Object(w.a)(O.a.mark((function e(t,a){var n,o,s,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("try to get Token"),n=r("code"),o=r("state"),null===n){e.next=18;break}return s="https://us-central1-feedmyflow.cloudfunctions.net/token?code="+encodeURIComponent(n)+"&state="+encodeURIComponent(o),e.prev=6,e.next=9,c(s);case 9:(u=e.sent).token&&(console.log("info in url"),i.set("token",u.token.toString()),l(u.token).then((function(){return t()})).catch((function(e){return a(e)}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),a(e.t0);case 16:e.next=20;break;case 18:console.log("no info in url"),new Promise((function(e,t){console.log("try to log with Cookies");var a=void 0;try{a=i.get("token")}catch(n){t(n)}void 0===a?t("no Token"):(console.log("try to use cookies token"),l(a).then((function(){console.log("log with cookies works"),e()})).catch((function(e){console.log("log with cookies failed"),t(e)})))})).then((function(){t()})).catch((function(e){a(e)}));case 20:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a){return e.apply(this,arguments)}}()).then((function(){e&&t.history.push("/dashboard"),n()})).catch((function(e){console.log(e),console.log("redirect"),s(0,n)}))}))}}},M=(a(241),a(242),function(e){return"".concat(e,"px")}),D=function(e,t,a){return{width:e,height:t,cursor:a?"pointer":"default "}},L=function(e,t){return"logo-bar bar-".concat(t," ").concat(e?"animated-logo-".concat(t):"")},_=Object(n.memo)((function(e){var t=e.action,a=void 0===t?null:t,n=e.size,i=void 0===n?50:n,r=e.isMonotone,c=void 0===r||r,l=e.animated,s=void 0!==l&&l,u=function(e){var t="#fff",a="#fff",n="#fff";return e||(t="#3DA7CA",a="#00698C",n="#133540"),{c1:t,c2:a,c3:n}}(c),d=u.c1,m=u.c2,p=u.c3,f=M(.6*i),h=M(.7*i);return o.a.createElement("div",{className:"column-logo",onClick:a,style:D(f,h,a)},o.a.createElement("div",{className:L(s,1),style:{backgroundColor:d}}),o.a.createElement("div",{className:L(s,2),style:{backgroundColor:m}}),o.a.createElement("div",{className:L(s,3),style:{backgroundColor:p}}))})),P="#008FBF",A="#3DA7CA",R="#133540",U="#F54C4C",z={show:!1,warning:!0,showCancel:!0,title:"",confirmBtnBsStyle:"danger",onConfirm:function(){},onCancel:function(){},focusCancelBtn:!0},B=function(e,t){return{show:!0,warning:!0,confirmBtnCssClass:"alert-btn",title:e,onConfirm:t}},F=function(e){try{return new URL(e),!0}catch(t){return!1}},q=Object(E.a)((function(e){return{input:{position:"relative",color:"white",border:"2px solid white",borderRadius:"4px",fontSize:16,padding:"10px 26px 10px 12px",fontFamily:"Poppins","&:focus":{borderRadius:2,borderColor:A}}}}))(v.a),V=Object(n.memo)((function(e){var t=e.text,a=e.onClick;return o.a.createElement("div",{onClick:a,className:"header-item"},o.a.createElement("p",{className:"header-text"},t))})),H=Object(n.memo)((function(e){var t=x(),a=Object(f.a)(),i=a.t,r=a.i18n,c=Object(n.useCallback)((function(){return e.history.push("/dashboard")}),[e]),l=Object(n.useCallback)((function(){return e.history.push("/")}),[e]),s=Object(n.useCallback)((function(){return e.history.push("/about")}),[e]),u=Object(n.useCallback)((function(){return t.signOut(e)}),[t,e]),d=Object(n.useCallback)((function(){return t.signIn(!0,e)}),[t,e]),m=Object(n.useState)(!1),E=Object(p.a)(m,2),v=E[0],y=E[1],C=window.innerWidth>600?"header.language.":"header.language-small.",O=window.innerWidth>600?50:35,w=function(){return o.a.createElement("div",{className:"header-item",id:"language-selection"},o.a.createElement(h.a,{variant:"outlined"},o.a.createElement(b.a,{native:!0,value:r.language,onChange:function(e){var t,a=e.target.value;return t=a,void r.changeLanguage(t)},input:o.a.createElement(q,null),MenuProps:{icon:"white"}},o.a.createElement("option",{value:"fr"},i("".concat(C,"french"))),o.a.createElement("option",{value:"en"},i("".concat(C,"english"))))))},T=function(){return o.a.createElement("div",{className:"options-container"},".",o.a.createElement("nav",{hidden:!v},t.authStatus.isConnected?o.a.createElement(V,{text:i("header.dashboard"),onClick:c}):o.a.createElement(V,{text:i("header.home"),onClick:l}),o.a.createElement(V,{text:i("header.about"),onClick:s}),o.a.createElement(V,{text:i("header.contact"),onClick:function(){return e=i("header.contactUrl"),void window.open(e);var e}}),t.authStatus.isConnected?o.a.createElement(V,{text:i("header.disconnect"),onClick:u}):o.a.createElement(V,{text:i("header.connect"),onClick:d})),o.a.createElement(w,null))};return o.a.createElement("div",{className:"header-container",style:{backgroundColor:R}},o.a.createElement(g.a,{id:"menu-button",onClick:function(){y(!v)}}),o.a.createElement(_,{size:O,action:l}),o.a.createElement(T,null))})),W=a(177),Y=a.n(W),G=a(178),J=a.n(G),K=(a(253),window.innerWidth>600?60:50),$=function(){return o.a.createElement("div",{className:"column"},o.a.createElement("img",{alt:"linkedin-mockup",src:Y.a,className:"linkedin-image"}))},Q=function(e){var t=e.t,a=e.iconSize;return o.a.createElement("div",{className:"column",id:"home-left-column"},o.a.createElement("div",{className:"main-text"},o.a.createElement(_,{isMonotone:!1,size:a}),o.a.createElement("div",{className:"absolute-text",style:{left:3*a/6}},o.a.createElement("p",{className:"important-text"},"eed my flow"))),o.a.createElement("p",{className:"second-text"},t("home.slogan")))},Z=Object(n.memo)((function(e){var t=x(),a=Object(f.a)().t,i=Object(n.useCallback)((function(){return t.signIn(!0,e)}),[t,e]),r=function(){return o.a.createElement("div",{style:{backgroundColor:R},className:"cta-container",onClick:i},o.a.createElement("p",{className:"cta-text"},a("home.go")))},c=function(){return o.a.createElement("div",{className:"column"},o.a.createElement(Q,{t:a,iconSize:K}),o.a.createElement("img",{alt:"home-illustration",src:J.a,className:"post-image"}),o.a.createElement(r,null))};return o.a.createElement("div",{className:"home-container"},o.a.createElement(H,e),o.a.createElement("div",{className:"fakenav"}),o.a.createElement("div",{className:"home-wrapper"},o.a.createElement(c,null),o.a.createElement($,null)))})),X=a(71),ee=function(e){e.component;var t=Object(X.a)(e,["component"]),a=x(),i=t.location.search.includes("error=user_cancelled_login")||t.location.search.includes("error=user_cancelled_authorize");return Object(n.useEffect)((function(){a.authStatus.haveTriedLogin||i||a.signIn(!1,null)}),[a,i]),o.a.createElement(m.b,Object.assign({},t,{render:function(e){return a.authStatus.haveTriedLogin||i?o.a.createElement(m.a,{to:{pathname:a.authStatus.isConnected?"/dashboard":"/",state:{from:e.location}}}):o.a.createElement("div",{className:"center"},o.a.createElement(_,{size:100,animated:!0,isMonotone:!1}))}}))},te=a(207),ae=a(134),ne=a(69),oe=a.n(ne),ie=(a(257),a(258),a(409)),re=a(407),ce=a(410),le=a(405),se=a(402),ue=a(365),de=a(26),me=a(401),pe=a(408),fe=a(403),he=a(181),be=a(406),ge=(a(282),a(200)),Ee=a.n(ge),ve=(a(298),function(e){return o.a.createElement(Ee.a,e)}),ye=(a(299),{width:"20vw"}),Ce={width:"10vw"},Oe=Object(n.memo)((function(e){var t=e.inPreviewMode,a=e.photoUrl,i=e.displayName,r=e.content,c=e.isLinkValid,l=e.title,s=e.description,u=e.url,d=e.fileInfo,m=e.setTitle,f=e.hideDescription,h=e.setHideDescription,b=Object(n.useState)(null),g=Object(p.a)(b,2),E=g[0],v=g[1],y=Object(n.useState)("IMAGE"),C=Object(p.a)(y,2),O=C[0];C[1];Object(n.useEffect)((function(){void 0!==d&&null!==d?N.storage().ref(d.filePath).getDownloadURL().then((function(e){v(e)})):v(null)}),[d]),Object(n.useEffect)((function(){if(c&&""!==u){var e=encodeURIComponent(u);fetch("https://urlpreview.vercel.app/api/v1/preview?url=".concat(e)).then((function(e){if(e.ok)return e.json();throw new Error("".concat(e.status,": ").concat(e.statusText))})).then((function(e){var t=e.title,a=e.image;v(a),m(t),h(void 0!==a&&null!==a)})).catch((function(e){h(!1),v(null),m("")}))}}),[c,u,E,m,h]);var w=function(){return o.a.createElement("div",{className:"row",style:{marginTop:"20px"}},o.a.createElement("img",{src:a,alt:"user-img",className:"user-img"}),o.a.createElement("div",{className:"column",style:{alignItems:"flex-start",marginLeft:"20px"}},o.a.createElement("p",{style:{margin:0}},i),o.a.createElement("div",{className:"skeleton",style:ye}),o.a.createElement("div",{className:"skeleton",style:Ce})))},T=function(){return o.a.createElement("div",{className:"row",id:"post-content"},r.split("\n").map((function(e,t){return o.a.createElement("p",{key:t,className:"next-post-item"},function(e){return e.split(" ").map((function(e){var t={color:R};return("#"===e[0]&&e.length>1||F(e)&&"#"!==e)&&(t={color:A}),o.a.createElement("span",{style:t},"".concat(e," "))}))}(e))})))},j=function(){return o.a.createElement("div",{className:"column",style:{width:"100%"}},E&&o.a.createElement("div",{className:"img-container"},o.a.createElement(o.a.Fragment,null,"IMAGE"===O?o.a.createElement("img",{src:E,alt:"embed",className:"embed-img"}):o.a.createElement("video",{controls:!0},o.a.createElement("source",{src:E,type:"video/mp4"})))),(u||l||s)&&o.a.createElement("div",{className:"url-info-container"},o.a.createElement("p",{className:"description-text clipped clip-1"},l),o.a.createElement("p",{className:"second-text",style:{fontSize:"14px",margin:"6px 0 6px 0"}},c?function(e){if(!e)return"";try{return new URL(e).hostname}catch(t){return e}}(u):u),!f&&o.a.createElement("p",{className:"description-text clipped clip-2"},s)))};return o.a.createElement("div",{className:t?"card overflowable visible":"card overflowable",id:"preview-card"},o.a.createElement(w,null),o.a.createElement(T,null),o.a.createElement(j,null))})),we=a(206),Te=a(400),je=a(59),Ne=a(201),ke=a.n(Ne),Se=Object(we.a)({palette:{primary:{main:P}},overrides:{MuiFormLabel:{asterisk:{color:U,"&$error":{color:U}}}}}),xe=Object(E.a)({root:{backgroundColor:R,marginTop:"3%",marginBottom:"5%",borderRadius:"100px",padding:"1% 2%","&:hover":{backgroundColor:P},"&:disabled":{backgroundColor:"rgba(0, 0, 0, 0.2)"}},label:{color:"white",fontWeight:"bold",fontSize:"18px"}})(Te.a),Ie=Object(E.a)({root:{backgroundColor:U,marginTop:"3%",marginBottom:"5%",borderRadius:"100px",padding:"1% 2%","&:hover":{backgroundColor:U}},label:{color:"white",fontWeight:"bold",fontSize:"18px"}})(Te.a),Me=Object(E.a)({root:{fill:R}})(ke.a),De=Object(je.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Le={timeout:500,className:"backdrop"},_e=function(e,t){return!e&&t?{display:"block"}:{display:"none"}},Pe=function(e,t){switch(t.type){case"SET_DATE":return Object(y.a)(Object(y.a)({},e),{},{publicationDate:t.payload});case"SET_TIME":return Object(y.a)(Object(y.a)({},e),{},{publicationTime:t.payload});case"SET_COMMENTARY":return Object(y.a)(Object(y.a)({},e),{},{shareCommentary:t.payload});case"SET_CATEGORY":return Object(y.a)(Object(y.a)({},e),{},{shareMediaCategory:t.payload});case"SET_VISIBILITY":return Object(y.a)(Object(y.a)({},e),{},{visibility:t.payload});case"SET_TITLE":return Object(y.a)(Object(y.a)({},e),{},{mediaTitle:t.payload});case"SET_DESCRIPTION":return Object(y.a)(Object(y.a)({},e),{},{mediaDescription:t.payload});case"SET_HIDE_DESCRIPTION":return Object(y.a)(Object(y.a)({},e),{},{hideDescription:t.payload});case"SET_LINK_VALID":return Object(y.a)(Object(y.a)({},e),{},{isLinkValid:t.payload});case"SET_URL":return Object(y.a)(Object(y.a)({},e),{},{mediaUrl:t.payload});case"SET_FILE_INFO":return Object(y.a)(Object(y.a)({},e),{},{fileInfo:t.payload});case"SET_AUTHOR":return Object(y.a)(Object(y.a)({},e),{},{author:t.payload});default:return e}},Ae=Object(n.memo)((function(e){var t=e.isOpen,a=e.data,i=e.handleClose,r=e.role,c=null!==a&&void 0!==a,l=!!c&&(void 0!==a.media&&null!==a.media),s=c?r.find((function(e){return e.organization===a.author})):r[0],u=Object(f.a)().t,d=N.firestore(),m=N.auth().currentUser.uid,g=N.storage().ref(),E=De(),v=new Date;v.setMinutes(60);var C=Object(n.useState)(!1),O=Object(p.a)(C,2),w=O[0],T=O[1],j=Object(n.useState)(!1),k=Object(p.a)(j,2),S=k[0],x=k[1],I=Object(n.useState)(z),M=Object(p.a)(I,2),D=M[0],L=M[1],_=Object(n.useState)(!1),P=Object(p.a)(_,2),A=P[0],R=P[1],U=Object(n.useState)(!1),q=Object(p.a)(U,2),V=q[0],H=q[1],W=Object(n.useState)(s),Y=Object(p.a)(W,2),G=Y[0],J=Y[1],K=Object(n.useState)(null),$=Object(p.a)(K,2),Q=$[0],Z=$[1],X=o.a.useRef(null),ee=Object(n.useReducer)(Pe,function(e,t,a,n,o){return{publicationDate:a?new Date(e.publicationTime.toDate()):n,publicationTime:a?new Date(e.publicationTime.toDate()):n,shareCommentary:a?e.shareCommentary:"",shareMediaCategory:a?e.shareMediaCategory:"NONE",visibility:a?e.visibility:"PUBLIC",mediaTitle:a&&t?e.media.title:"",mediaDescription:a&&t?e.media.description:"",mediaUrl:a&&t?e.media.originalUrl:"",fileInfo:a&&t?e.media.fileInfo:void 0,hideDescription:!!(a&&t&&void 0===e.media.description||!a),isLinkValid:!(!a||!t||void 0===e.media.originalUrl),author:a&&t?e.author:"urn:li:person:"+o.split(":")[1]}}(a,l,c,v,m)),te=Object(p.a)(ee,2),ae=te[0],ne=ae.publicationDate,ge=ae.publicationTime,Ee=ae.shareCommentary,ye=ae.shareMediaCategory,Ce=ae.visibility,we=ae.mediaTitle,Te=ae.mediaDescription,je=ae.mediaUrl,Ne=ae.hideDescription,ke=ae.fileInfo,Ae=ae.author,Re=te[1];Object(n.useEffect)((function(){R(F(je))}),[je]),Object(n.useEffect)((function(){if(!t&&!c){var e=new Date;Re({type:"SET_DATE",payload:e}),Re({type:"SET_TIME",payload:e}),Re({type:"SET_COMMENTARY",payload:""}),Re({type:"SET_CATEGORY",payload:"NONE"}),Re({type:"SET_VISIBILITY",payload:"PUBLIC"}),Re({type:"SET_TITLE",payload:""}),Re({type:"SET_DESCRIPTION",payload:""}),Re({type:"SET_URL",payload:""}),Re({type:"SET_FILE_INFO",payload:null}),Re({type:"SET_AUTHOR",payload:""})}}),[t,c]),Object(n.useEffect)((function(){return x(""!==Ee&&("ARTICLE"!==ye&&""===je||""!==je&&""!==we)),function(){T(!0)}}),[ne,ge,Ee,ye,Ce,we,Te,je,ke]);var Ue=Object(n.useCallback)((function(){return L(Object(y.a)(Object(y.a)({},D),{},{show:!1}))}),[D]),ze=Object(n.useCallback)((function(e){return Re({type:"SET_TITLE",payload:e})}),[]),Be=Object(n.useCallback)((function(e){return Re({type:"SET_HIDE_DESCRIPTION",payload:e})}),[]),Fe=function(e){X.current.click()},qe=function(e){var t=e.target.files[0],a=t.type;if(!["image/png","image/gif","image/jpeg"].includes(a))return alert(u("creationModal.upload.notSupportedFormat"));var n=t.name.split(".")[1],o=Object(be.a)(),i="temp/".concat(m,"_").concat(o,".").concat(n);g.child(i).put(t).then((function(){Re({type:"SET_TITLE",payload:""}),Re({type:"SET_DESCRIPTION",payload:""}),Re({type:"SET_URL",payload:""}),Re({type:"SET_FILE_INFO",payload:{filePath:i,contentType:a}}),Re({type:"SET_CATEGORY",payload:"video/mp4"===a?"VIDEO":"IMAGE"})})).catch((function(){alert(u("creationModal.upload.fail"))}))},Ve=function(e){g.child(e).delete()},He=function(e){if(ke){var t=ke.filePath;try{var a=t.split("/").slice(-1)[0];"temp"===e&&t.split("/")[0]&&Z(t),"post"!==e&&"both"!==e||Ve("post/".concat(m,"/").concat(a)),"temp"!==e&&"both"!==e||(Ve("temp/".concat(a)),Re({type:"SET_FILE_INFO",payload:null}),Re({type:"SET_CATEGORY",payload:"NONE"}))}catch(n){}}},We=function(e,t){t.media.fileInfo&&("temp"===t.media.fileInfo.filePath.split("/")[0]&&N.functions().httpsCallable("moveMedia")({media:t.media,userUid:m,postId:e}))},Ye=function(){var e="".concat(ne.getDate(),"/").concat(ne.getMonth()+1,"/").concat(ne.getFullYear()),t=0===ge.getHours()?"00":ge.getHours(),a=0===ge.getMinutes()?"00":ge.getMinutes(),n="".concat(t,":").concat(a),o=oe()("".concat(e," ").concat(n,":00"),"DD/MM/YYYY hh:mm"),i={author:Ae,userUID:m,publicationTime:o.toDate(),shareCommentary:Ee,visibility:Ce,shareMediaCategory:ye,rawDate:e,rawTime:n,publisherName:G.localizedName,publisherPhoto:G.orgMedia.url,media:null};return"ARTICLE"===ye&&A&&(i.media={title:we,originalUrl:je},Ne||""===Te||(i.media.description=Te)),"IMAGE"===ye&&(i.media={fileInfo:ke}),i},Ge=function(){if("Invalid Date"===ne.toString()||"Invalid Date"===ge.toString())return L(B(u("creationModal.validDate.valid"),Ue)),!1;var e=new Date(ne.getTime());return e.setHours(ge.getHours(),ge.getMinutes()),!(e<new Date)||(L(B(u("creationModal.validDate.before"),Ue)),!1)},Je=function(){if(Ge()&&S){var e=Ye();d.collection("user").doc(m).collection("post").add(e).then((function(t){var a=t.id;We(a,e)})),i()}},Ke=function(){if(Ge()&&S&&w){var e=Ye(),t=a.id;d.collection("user").doc(m).collection("post").doc(t).update(e).then((function(){Ve(Q),We(t,e)})),i(),T(!1)}},$e=function(){var e=a.id;L(function(e,t,a,n,o){return{show:!0,danger:!0,showCancel:!0,cancelBtnCssClass:"alert-btn",confirmBtnCssClass:"alert-btn danger-btn",cancelBtnText:a,confirmBtnText:t,title:e,onConfirm:n,onCancel:o}}(u("creationModal.deleteDate.confirm"),u("creationModal.deleteDate.delete"),u("creationModal.deleteDate.cancel"),(function(){d.collection("user").doc(m).collection("post").doc(e).delete().then((function(){He("both")})),i()}),Ue))},Qe=function(){return o.a.createElement(o.a.Fragment,null,D.show&&o.a.createElement(ve,D))},Ze=function(e){var t=e.target.value;J(t),Re({type:"SET_AUTHOR",payload:t.organization}),T(!0)};return o.a.createElement(le.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",id:"modal",className:E.modal,open:t,onClose:i,closeAfterTransition:!0,BackdropComponent:se.a,BackdropProps:Le},o.a.createElement(ue.a,{in:t},o.a.createElement(fe.a,{theme:Se},o.a.createElement("div",{id:"phone-mode-toggle"},o.a.createElement("input",{type:"radio",name:"phonemode",id:"edit",onClick:function(){return H(!1)},checked:!V}),o.a.createElement("label",{htmlFor:"edit",id:"edit-label"},"Edit"),o.a.createElement("input",{type:"radio",name:"phonemode",id:"preview",onClick:function(){return H(!0)},checked:V}),o.a.createElement("label",{htmlFor:"preview",id:"preview-label"},"Preview")),o.a.createElement("div",{id:"creation-modal-container",className:V?"card overflowable":"card overflowable visible"},o.a.createElement(Me,{onClick:i,className:"close-icon"}),o.a.createElement("p",{className:"important-text",id:"creation-modal-toptext"},c?u("creationModal.text.schedule",{rawDate:a.rawDate,rawTime:a.rawTime}):u("creationModal.text.create")),o.a.createElement("div",{className:"row",id:"time-row"},o.a.createElement(de.a,{utils:he.a},o.a.createElement(me.a,{required:!0,style:{marginRight:"20px"},id:"date-picker-dialog",label:u("creationModal.input.date"),format:"dd/MM/yyyy",value:ne,onChange:function(e){return Re({type:"SET_DATE",payload:e})},KeyboardButtonProps:{"aria-label":"change date"}}),o.a.createElement(pe.a,{required:!0,id:"time-picker",style:{marginRight:"20px"},label:u("creationModal.input.time"),value:ge,ampm:!1,minutesStep:15,onChange:function(e){return function(e){if(null!==e){var t=Math.floor(e.getMinutes()/15);isNaN(e.getMinutes())||(e.getMinutes()%15!==0&&L(B(u("creationModal.publicationTime.quarter"),Ue)),e.getMinutes()%15>7&&(t+=1)),e.setMinutes(15*t)}Re({type:"SET_TIME",payload:e})}(e)},KeyboardButtonProps:{"aria-label":"change time"}}),o.a.createElement("div",{className:"column",id:"visibility-container",style:{paddingTop:"16px"}},o.a.createElement(b.a,{labelId:u("creationModal.input.visibility"),id:"visibility",value:Ce,onChange:function(e){var t=e.target.value;return Re({type:"SET_VISIBILITY",payload:t})}},o.a.createElement(ie.a,{value:"PUBLIC"},u("creationModal.input.visibilityValue.public")),o.a.createElement(ie.a,{value:"CONNECTIONS"},u("creationModal.input.visibilityValue.connexions")))))),o.a.createElement("div",{className:"row"},o.a.createElement(re.a,{fullWidth:!0,label:u("creationModal.input.shareCommentary"),id:"shareCommentary",value:Ee,onChange:function(e){var t=e.target.value;return Re({type:"SET_COMMENTARY",payload:t})},multiline:!0,rowsMax:4,required:!0})),o.a.createElement("div",{className:"row",style:{display:A?"block":"none"}},o.a.createElement(re.a,{fullWidth:!0,id:"mediaTitle",label:u("creationModal.input.mediaTitle"),value:we,onChange:function(e){var t=e.target.value;return Re({type:"SET_TITLE",payload:t})}})),o.a.createElement("div",{className:"row",style:_e(Ne,A)},o.a.createElement(re.a,{fullWidth:!0,id:"mediaDescription",label:u("creationModal.input.mediaDescription"),value:Te,onChange:function(e){var t=e.target.value;return Re({type:"SET_DESCRIPTION",payload:t})},multiline:!0,rowsMax:4})),o.a.createElement(o.a.Fragment,null,!ke&&o.a.createElement("div",{className:"row"},o.a.createElement("input",{accept:"image/png, image/gif, image/jpeg",type:"file",ref:X,onChange:qe,style:{display:"none"}}),o.a.createElement(re.a,{fullWidth:!0,id:"mediaUrl",label:u("creationModal.input.mediaUrl"),value:je,onChange:function(e){var t=e.target.value;Re({type:"SET_CATEGORY",payload:""===t?"NONE":"ARTICLE"}),Re({type:"SET_URL",payload:t})}})),o.a.createElement("div",{className:"row"},ke?o.a.createElement(Ie,{onClick:function(){return He("temp")}},u("creationModal.button.deleteContent")):o.a.createElement(xe,{onClick:Fe,style:{marginRight:"20px"}},u("creationModal.button.uploadContent")),G&&r.length>0&&o.a.createElement(h.a,null,o.a.createElement(ce.a,{shrink:!0},u("creationModal.text.publishAs")),o.a.createElement(b.a,{value:G,onChange:Ze},r.map((function(e,t){return o.a.createElement(ie.a,{key:t,value:e},e.localizedName)})))))),c?o.a.createElement("div",{className:"row"},o.a.createElement(Ie,{onClick:$e},u("creationModal.button.delete")),o.a.createElement(xe,{onClick:Ke,disabled:!w||!S},u("creationModal.button.update"))):o.a.createElement(xe,{onClick:Je,disabled:!S},u("creationModal.button.create"))),G&&o.a.createElement(Oe,{inPreviewMode:V,photoUrl:G.orgMedia.url,displayName:G.localizedName,content:Ee,title:we,isLinkValid:A,url:je,fileInfo:ke,description:Te,setTitle:ze,setHideDescription:Be,hideDescription:Ne}),o.a.createElement(Qe,null))))})),Re=a(202),Ue=a.n(Re),ze=(a(303),{height:"65vh",width:"100%"}),Be={month:!0,week:!0},Fe=Object(ae.b)(oe.a),qe=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)([]),l=Object(p.a)(c,2),s=l[0],u=l[1],d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=Object(n.useState)(e),o=Object(p.a)(a,2),i=o[0],r=o[1],c=Object(n.useState)(t),l=Object(p.a)(c,2),s=l[0],u=l[1],d=Object(n.useCallback)((function(e){r(e),!1===e&&u(null)}),[r,u]),m=Object(n.useCallback)((function(){return d(!1)}),[d]);return{modalOpen:i,setModalOpen:r,selected:s,setSelected:u,setModalState:d,handleClose:m}}(),m=d.modalOpen,h=d.selected,b=d.handleClose,g=d.setSelected,E=d.setModalState,v=Object(f.a)(),y=v.t,C=v.i18n;Object(n.useEffect)((function(){var e=N.auth().currentUser,t=e.uid,a=N.firestore(),n=a.collection("user").doc(t).collection("post").onSnapshot((function(e){var t=e.docs.map((function(e,t){var a=e.data();return a.itemId=t,a.id=e.id,a.title=a.shareCommentary,a.start=new Date(a.publicationTime.toDate()),a.end=oe()(a.start).add(15,"m").toDate(),a}));return t.sort((function(e,t){return e.start-t.start})),r(t),function(){n()}})),o=a.collection("user").doc(t).onSnapshot((function(a){if(a.exists){var n=[{localizedName:e.displayName,orgMedia:{mediaType:"image/jpeg",url:e.photoURL},organization:"urn:li:person:"+t.split(":")[1]}];u([].concat(n,Object(te.a)(a.data().organizationList)))}else{N.functions().httpsCallable("organisationInfo")(t)}return function(){o()}}))}),[]);var O=function(e){var t=e.rawDate,a=e.rawTime,n=e.title,i=e.publisherName,r=e.id;return o.a.createElement("div",{className:"next-post",onClick:function(){g(r),E(!0)}},o.a.createElement("p",{className:"next-post-item"},o.a.createElement("span",{className:"span-item"},y("calendar.date")),"".concat(t," ").concat(a)),o.a.createElement("p",{className:"next-post-item clipped"},o.a.createElement("span",{className:"span-item"},y("calendar.content")),n),i&&o.a.createElement("p",{className:"next-post-item clipped"},o.a.createElement("span",{className:"span-item"},y("calendar.publish")),i))},w=function(){return o.a.createElement("div",{id:"next-posts-container"},0===i.length?o.a.createElement("img",{src:Ue.a,alt:"empty",className:"empty-img"}):o.a.createElement("div",{className:"posts-container"},i.map((function(e){var t=e.itemId,a=Object(X.a)(e,["itemId"]);return o.a.createElement(O,Object.assign({key:t},a))}))))},T=function(){return o.a.createElement("div",{className:"column",id:"schedule-container",style:{alignItems:"flex-start"}},o.a.createElement("p",{id:"schedule-title",className:"important-text"},y("calendar.schedule")),o.a.createElement("p",{id:"schedule-subtitle",className:"second-text"},y("calendar.automate")))},j=function(){return o.a.createElement("div",{className:"column",style:{alignItems:"flex-start"}},o.a.createElement(T,null),o.a.createElement(ae.a,{messages:{allDay:y("calendar.messageCalendar.allDay"),previous:y("calendar.messageCalendar.previous"),next:y("calendar.messageCalendar.next"),today:y("calendar.messageCalendar.today"),month:y("calendar.messageCalendar.month"),week:y("calendar.messageCalendar.week"),day:y("calendar.messageCalendar.day"),agenda:y("calendar.messageCalendar.agenda"),date:y("calendar.messageCalendar.date"),time:y("calendar.messageCalendar.time"),event:y("calendar.messageCalendar.event"),showMore:function(e){return y("calendar.messageCalendar.showMore",{total:e})}},className:"calendar",popup:!0,step:60,localizer:Fe,defaultDate:new Date,defaultView:"month",culture:C.language,events:i,drilldownView:"week",style:ze,views:Be,selectable:!0,onSelectSlot:function(e){e.start;return E(!0)},onSelectEvent:function(e,t){g(e.id),E(!0)}}))},k=function(){return o.a.createElement("div",{className:"cta-container",style:{backgroundColor:R,margin:"20px"},onClick:function(){return E(!0)}},o.a.createElement("p",{style:{fontSize:"16px"},className:"cta-text"},y("calendar.create")))},S=function(){return o.a.createElement("p",{className:"upcoming-text",style:{backgroundColor:P}},y("calendar.upcoming"))},x=function(){return o.a.createElement("div",{className:"column",style:{justifyContent:"flex-start"}},o.a.createElement(S,null),o.a.createElement(w,null),o.a.createElement(k,null),o.a.createElement(Ae,{isOpen:m,handleClose:b,data:h?i.filter((function(e){return e.id===h}))[0]:null,role:s}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(H,e),o.a.createElement("div",{className:"fakenav"}),o.a.createElement("div",{className:"wrapper"},o.a.createElement(j,null),o.a.createElement(x,null)))},Ve=a(203),He=a.n(Ve),We=a(204),Ye=a.n(We),Ge=a(205),Je=a.n(Ge),Ke=(a(304),a(305)().use(a(360))),$e=function(e,t){var a=e("about.text."+t,{returnObjects:!0});return console.log(a),a.map((function(e){return o.a.createElement("p",{className:"about-text",dangerouslySetInnerHTML:{__html:Ke.render(e)}})}))},Qe=function(e){var t=e.title,a=e.image,n=e.content;return o.a.createElement("div",{className:"section-container"},o.a.createElement("div",{className:"column",style:{alignItems:"flex-start"}},o.a.createElement("p",{className:"section-title"},t),n),o.a.createElement("div",{className:"column"},o.a.createElement("img",{src:a,alt:t,className:"right-image"})))},Ze=Object(n.memo)((function(e){var t=Object(f.a)().t,a=Object(n.useMemo)((function(){return $e(t,"usage")}),[t]),i=Object(n.useMemo)((function(){return $e(t,"guide")}),[t]),r=Object(n.useMemo)((function(){return $e(t,"team")}),[t]);return o.a.createElement("div",{className:"home-container"},o.a.createElement(H,e),o.a.createElement("div",{className:"fakenav"}),o.a.createElement("div",{className:"home-wrapper",style:{flexDirection:"column"}},o.a.createElement(Qe,{title:t("about.title.usage"),image:Ye.a,content:a}),o.a.createElement(Qe,{title:t("about.title.guide"),image:Je.a,content:i}),o.a.createElement(Qe,{title:t("about.title.team"),image:He.a,content:r})))})),Xe=(a(361),function(e){e.path;var t=e.comp,a=e.redirect,i=e.needToBeConnected,r=Object(X.a)(e,["path","comp","redirect","needToBeConnected"]),c=x();return Object(n.useEffect)((function(){i&&!c.authStatus.haveTriedLogin&&c.signIn(!1,null)}),[c,i]),o.a.createElement(m.b,Object.assign({},r,{render:function(e){return!c.authStatus.haveTriedLogin&&i?o.a.createElement("div",{className:"center"},o.a.createElement(_,{size:100,animated:!0,isMonotone:!1})):c.authStatus.isConnected&&i||!c.authStatus.isConnected&&!i?o.a.createElement(t,e):o.a.createElement(m.a,{to:{pathname:a,state:{from:e.location}}})}}))}),et=function(e){var t=x();return o.a.createElement(o.a.Fragment,null,t.authStatus.firebaseTestLogin?o.a.createElement(o.a.Fragment,null,e.children):o.a.createElement("div",{className:"center"},o.a.createElement(_,{size:100,animated:!0,isMonotone:!1})))},tt=(a(362),function(){return o.a.createElement(d.a,null,o.a.createElement(S,null,o.a.createElement(et,null,o.a.createElement(m.d,null,o.a.createElement(Xe,{exact:!0,path:"/dashboard",comp:qe,connected:!0,redirect:"/",needToBeConnected:!0}),o.a.createElement(Xe,{exact:!0,path:"/",comp:Z,redirect:"/dashboard",needToBeConnected:!1}),o.a.createElement(m.b,{exact:!0,path:"/login",component:ee}),o.a.createElement(m.b,{exact:!0,path:"/about",component:Ze}),o.a.createElement(m.b,{path:"*",component:function(){return o.a.createElement(m.a,{to:"/"})}})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[224,1,2]]]);
//# sourceMappingURL=main.32205e17.chunk.js.map