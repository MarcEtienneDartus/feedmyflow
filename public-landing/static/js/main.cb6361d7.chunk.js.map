{"version":3,"sources":["assets/linkedin.jpg","assets/post.svg","assets/empty.svg","assets/team.svg","assets/setup.svg","assets/exemple.png","i18n.js","provider/firebase.js","provider/auth.js","components/feedlogo/feedlogo.js","Constants.js","components/header/header.js","view/home/home.js","view/login/login.js","components/InfoAlert/InfoAlert.js","components/PostPreview/PostPreview.js","components/creationModal/styling.js","components/creationModal/creationModal.js","view/calendar/calendar.js","view/about/about.js","components/redirectedRoute/redirectedRoute.js","components/loadingScreen/loadingScreen.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","resources","en","translation","fr","i18n","use","detector","initReactI18next","init","fallbackLng","interpolation","escapeValue","fire","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","authContext","createContext","ProvideAuth","children","auth","useProvideAuth","Provider","value","useAuth","useContext","useState","haveTriedLogin","isConnected","user","undefined","firebaseTestLogin","authStatus","setAuthStatus","cookies","Cookies","getURLParameter","name","decodeURIComponent","RegExp","exec","window","location","href","replace","get","url","a","fetch","method","response","json","jsondata","signInWithCustomToken","token","Promise","resolve","reject","console","log","then","catch","err","remove","redirectCheck","index","setTimeout","useEffect","unsubscribe","onAuthStateChanged","error","signOut","props","history","push","signIn","redirectToDashboard","code","state","tokenFunctionURL","encodeURIComponent","res","set","toString","getPixel","size","getWrapperStyle","width","height","action","cursor","getClassname","animated","i","FeedLogo","memo","isMonotone","c1","c2","c3","getColors","className","onClick","style","backgroundColor","Colors","defaultAlertProps","show","warning","showCancel","title","confirmBtnBsStyle","onConfirm","onCancel","focusCancelBtn","getWarningProps","confirmBtnCssClass","isValidUrl","URL","e","BootstrapInput","withStyles","_","input","position","color","border","borderRadius","fontSize","padding","fontFamily","borderColor","InputBase","handleSendMail","HeaderItem","text","Header","useTranslation","t","handleDashboard","useCallback","handleHome","handleAbout","onAuthOut","onAuthIn","MobileNavVisible","SetMobileNavVisible","languageDic","innerWidth","logoSize","LanguageItem","id","FormControl","variant","Select","native","language","onChange","lng","target","changeLanguage","MenuProps","icon","HeaderItems","hidden","Menu","ICON_SIZE","RightPart","alt","src","linkedin","UpperText","iconSize","left","Home","onAuth","GoButton","LeftPart","post","Login","component","rest","userCanceled","search","includes","render","to","pathname","from","WIDTH_BONE_1","WIDTH_BONE_2","inPreviewMode","photoUrl","displayName","content","isLinkValid","description","fileInfo","setTitle","hideDescription","setHideDescription","embedSource","setEmbedSource","embedType","storage","ref","filePath","getDownloadURL","mediaUrl","encoded","ok","Error","status","statusText","image","HeaderPost","marginTop","alignItems","marginLeft","margin","ContentPost","split","map","line","key","textStyle","length","getLine","RenderBottom","controls","type","hostname","extractDomain","theme","createMuiTheme","palette","primary","main","overrides","MuiFormLabel","asterisk","ConfirmButton","root","marginBottom","label","fontWeight","Button","DeleteButton","CloseIcon","fill","CancelIcon","useStyles","makeStyles","modal","display","justifyContent","BACKDROP_PROPS","timeout","descriptionPredicate","reducer","publicationDate","payload","publicationTime","shareCommentary","shareMediaCategory","visibility","mediaTitle","mediaDescription","author","CreationModal","isOpen","data","handleClose","role","isEvent","isMedia","media","roleInit","find","r","organization","db","firestore","userUid","currentUser","uid","storageRef","classes","date","Date","setMinutes","haveModification","setHaveModification","canSave","setCanSave","alertProps","setAlertProps","setIsLinkValid","setPreviewMode","selectedRole","setSelectedRole","postFilePath","setPostFilePath","hiddenFileInput","React","useRef","useReducer","toDate","originalUrl","getInitialState","dispatch","onCloseAlert","setMediaTitleMemo","setHideDescriptionMemo","handleUploadClick","event","current","click","handleChangeFileUpload","fileUploaded","files","contentType","alert","fileExtension","uuid","uuidv4","path","child","put","deleteInStorage","childPath","delete","handleRemoveMedia","removingState","fileName","slice","moveStorageMedia","postId","linekdinPost","functions","httpsCallable","moveMedia","formatData","rawDate","getDate","getMonth","getFullYear","hours","getHours","minutes","getMinutes","rawTime","time","moment","userUID","publisherName","localizedName","publisherPhoto","orgMedia","validDate","dateTocheck","getTime","setHours","onSendData","collection","doc","add","snapshot","onUpdateData","update","onDeleteData","confirmBtnText","cancelBtnText","danger","cancelBtnCssClass","getDangerProps","CustomAlert","handleChangeRole","Modal","aria-labelledby","aria-describedby","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","in","ThemeProvider","checked","htmlFor","utils","DateFnsUtils","required","marginRight","format","KeyboardButtonProps","ampm","minutesStep","dateTime","quarter","Math","floor","isNaN","configurePublicationTime","paddingTop","labelId","MenuItem","TextField","fullWidth","multiline","rowsMax","accept","InputLabel","shrink","idx","disabled","CALENDAR_STYLE","CALENDAR_VIEWS","month","week","localizer","momentLocalizer","Mycalendar","eventsList","setEventsList","setRole","initialMode","initialSelected","modalOpen","setModalOpen","selected","setSelected","setModalState","useModalWithData","unsubscribeSnapshot","onSnapshot","documents","newEventsList","docs","query","start","sort","b","unsubscribeAuthor","exists","userRole","mediaType","photoURL","organizationList","organisationInfo","PostSummary","NextPosts","empty","itemId","HeaderText","messages","allDay","previous","next","today","day","agenda","showMore","total","popup","step","defaultDate","defaultView","culture","events","drilldownView","views","selectable","onSelectSlot","onSelectEvent","CreatePost","UpcomingPosts","filter","md","require","getContent","contentArr","returnObjects","c","dangerouslySetInnerHTML","__html","Section","About","usageContent","useMemo","guideContent","teamContent","flexDirection","setup","example","team","RedirectedRoute","Component","comp","redirect","needToBeConnected","LoadingScreen","App","exact","MyCalendar","connected","Boolean","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cb6361d7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/linkedin.1eec46a7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/post.408cb2b1.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.08da03f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/team.76d438d7.svg\";","module.exports = __webpack_public_path__ + \"static/media/setup.429b7f86.svg\";","module.exports = __webpack_public_path__ + \"static/media/exemple.4e107ac4.png\";","import i18n from \"i18next\";\r\nimport detector from \"i18next-browser-languagedetector\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport translationEN from './translation/en/translation.json';\r\nimport translationFR from './translation/fr/translation.json';\r\n\r\n// the translations\r\nconst resources = {\r\n  en: {\r\n    translation: translationEN,\r\n  },\r\n  fr: {\r\n    translation: translationFR\r\n  }\r\n};\r\n\r\n// const userLang = navigator.language || navigator.userLanguage;\r\n\r\ni18n\r\n  .use(detector)\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init({\r\n    resources,\r\n    // lng: userLang.substr(0,2),\r\n    fallbackLng: \"en\", // use en if detected lng is not available\r\n\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  });\r\n\r\nexport default i18n;","import firebase from 'firebase'\r\nvar config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\nvar fire = firebase.initializeApp(config);\r\nexport default fire;","import React, { useState, useEffect, useContext, createContext } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport fire from \"./firebase\";\r\n\r\nconst authContext = createContext();\r\nexport default authContext;\r\n// Provider component that wraps your app and makes auth object ...\r\n// ... available to any child component that calls useAuth().\r\nexport function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\n// Hook for child components to get the auth object ...\r\n// ... and re-render when it changes.\r\nexport const useAuth = () => {\r\n  return useContext(authContext);\r\n};\r\n\r\n// Provider hook that creates auth object and handles state\r\nconst useProvideAuth = () => {\r\n  const [authStatus, setAuthStatus] = useState({\r\n    haveTriedLogin: false,\r\n    isConnected: false,\r\n    user: undefined,\r\n    firebaseTestLogin: false,\r\n  });\r\n  const cookies = new Cookies();\r\n\r\n  const getURLParameter = (name) => {\r\n    return (\r\n      decodeURIComponent(\r\n        (new RegExp(\"[?|&]\" + name + \"=([^&;]+?)(&|#|;|$)\").exec(\r\n          window.location.href\r\n        ) || [null, \"\"])[1].replace(/\\+/g, \"%20\")\r\n      ) || null\r\n    );\r\n  };\r\n\r\n  const get = async (url) => {\r\n    try {\r\n      let response = await fetch(url, { method: \"GET\" });\r\n      const jsondata = await response.json();\r\n      return jsondata;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const signInWithCustomToken = (token) =>\r\n    new Promise((resolve, reject) => {\r\n      console.log(\"firebase init\");\r\n      fire\r\n        .auth()\r\n        .signInWithCustomToken(token)\r\n        .then(() => {\r\n          console.log(\"loged in\");\r\n          resolve();\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"not loged in\");\r\n          cookies.remove(\"token\");\r\n          reject(err);\r\n        });\r\n    });\r\n\r\n  const loginWithCookies = () =>\r\n    new Promise((resolve, reject) => {\r\n      console.log(\"try to log with Cookies\");\r\n      let token = undefined;\r\n      try {\r\n        token = cookies.get(\"token\");\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n      if (token === undefined) reject(\"no Token\");\r\n      else {\r\n        console.log(\"try to use cookies token\");\r\n        signInWithCustomToken(token)\r\n          .then(() => {\r\n            console.log(\"log with cookies works\");\r\n            resolve();\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"log with cookies failed\");\r\n            reject(err);\r\n          });\r\n      }\r\n    });\r\n\r\n  const getInfoFromUrl = () =>\r\n    new Promise(async (resolve, reject) => {\r\n      console.log(\"try to get Token\");\r\n      var code = getURLParameter(\"code\");\r\n      var state = getURLParameter(\"state\");\r\n      if (code !== null) {\r\n        // This is the URL to the HTTP triggered 'token' Firebase Function.\r\n        var tokenFunctionURL = process.env.REACT_APP_API_URL + \"token\";\r\n        let url =\r\n          tokenFunctionURL +\r\n          \"?code=\" +\r\n          encodeURIComponent(code) +\r\n          \"&state=\" +\r\n          encodeURIComponent(state);\r\n        try {\r\n          let res = await get(url);\r\n          if (res.token) {\r\n            console.log(\"info in url\");\r\n            cookies.set(\"token\", res.token.toString());\r\n            signInWithCustomToken(res.token)\r\n              .then(() => resolve())\r\n              .catch((err) => reject(err));\r\n          }\r\n        } catch (error) {\r\n          reject(error);\r\n        }\r\n      } else {\r\n        console.log(\"no info in url\");\r\n        loginWithCookies()\r\n          .then(() => {\r\n            resolve();\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      }\r\n    });\r\n\r\n  // Wrap any Firebase methods we want to use making sure ...\r\n  // ... to save the user to state.\r\n  const signIn = (redirectToDashboard, props) =>\r\n    new Promise((resolve, reject) => {\r\n      if (authStatus.isConnected) {\r\n        resolve();\r\n      } else {\r\n        getInfoFromUrl()\r\n          .then(() => {\r\n            if (redirectToDashboard) props.history.push(\"/dashboard\");\r\n            resolve();\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            console.log(\"redirect\");\r\n            redirectCheck(0, resolve);\r\n          });\r\n      }\r\n    });\r\n\r\n  const redirectCheck = (index, resolve) => {\r\n    console.log(authStatus);\r\n    if (authStatus.firebaseTestLogin || index >= 10) {\r\n      if (authStatus.isConnected) resolve();\r\n      else window.location.href = process.env.REACT_APP_API_URL + \"redirect\";\r\n    } else {\r\n      setTimeout(() => {\r\n        redirectCheck(index + 1, resolve);\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  const signOut = (props) => {\r\n    return fire\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        setAuthStatus({ ...authStatus, isConnected: false, user: undefined, haveTriedLogin: false });\r\n        props.history.push('/')\r\n      });\r\n  };\r\n\r\n  // Subscribe to user on mount\r\n  // Because this sets state in the callback it will cause any ...\r\n  // ... component that utilizes this hook to re-render with the ...\r\n  // ... latest auth object.\r\n  useEffect(() => {\r\n    const unsubscribe = fire.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        console.log(\"status change connected\");\r\n        try {\r\n          setAuthStatus((authStatus) => ({\r\n            ...authStatus,\r\n            isConnected: true,\r\n            user,\r\n            haveTriedLogin: true,\r\n            firebaseTestLogin: true,\r\n          }));\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      } else {\r\n        setAuthStatus((authStatus) => ({\r\n          ...authStatus,\r\n          isConnected: false,\r\n          user: undefined,\r\n          haveTriedLogin: false,\r\n          firebaseTestLogin: true,\r\n        }));\r\n      }\r\n    });\r\n\r\n    // Cleanup subscription on unmount\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n\r\n  // Return the user object and auth methods\r\n  return {\r\n    authStatus,\r\n    signOut,\r\n    signIn,\r\n  };\r\n};\r\n","import React, { memo } from \"react\";\r\nimport \"./feedlogo.css\";\r\n\r\nconst getColors = (isMonotone) => {\r\n  let c1 = \"#fff\",\r\n    c2 = \"#fff\",\r\n    c3 = \"#fff\";\r\n  if (!isMonotone) {\r\n    c1 = \"#3DA7CA\";\r\n    c2 = \"#00698C\";\r\n    c3 = \"#133540\";\r\n  }\r\n  return { c1, c2, c3 };\r\n};\r\n\r\nconst getPixel = (size) => `${size}px`;\r\nconst getWrapperStyle = (width, height, action) => ({\r\n  width,\r\n  height,\r\n  cursor: action ? \"pointer\" : \"default \",\r\n});\r\nconst getClassname = (animated, i) =>\r\n  `logo-bar bar-${i} ${animated ? `animated-logo-${i}` : \"\"}`;\r\n\r\nconst FeedLogo = memo(\r\n  ({ action = null, size = 50, isMonotone = true, animated = false }) => {\r\n    const { c1, c2, c3 } = getColors(isMonotone);\r\n    const width = getPixel(size*0.6);\r\n    const height = getPixel(size*0.7);\r\n    return (\r\n      <div\r\n        className=\"column-logo\"\r\n        onClick={action}\r\n        style={getWrapperStyle(width, height, action)}\r\n      >\r\n        <div\r\n          className={getClassname(animated, 1)}\r\n          style={{ backgroundColor: c1 }}\r\n        />\r\n        <div\r\n          className={getClassname(animated, 2)}\r\n          style={{ backgroundColor: c2 }}\r\n        />\r\n        <div\r\n          className={getClassname(animated, 3)}\r\n          style={{ backgroundColor: c3 }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default FeedLogo;\r\n","const Colors = {\r\n  primary: \"#008FBF\",\r\n  light: \"#3DA7CA\",\r\n  dark: \"#00698C\",\r\n  shade1: \"#133540\",\r\n  shade2: \"#003040\",\r\n  error: \"#F54C4C\",\r\n};\r\n\r\nconst defaultAlertProps = {\r\n  show: false,\r\n  warning: true,\r\n  showCancel: true,\r\n  title: \"\",\r\n  confirmBtnBsStyle: \"danger\",\r\n  onConfirm: () => { },\r\n  onCancel: () => { },\r\n  focusCancelBtn: true,\r\n};\r\n\r\nconst getWarningProps = (title, onConfirm) => ({\r\n  show: true,\r\n  warning: true,\r\n  confirmBtnCssClass: \"alert-btn\",\r\n  title,\r\n  onConfirm,\r\n});\r\n\r\nconst getDangerProps = (\r\n  title,\r\n  confirmBtnText,\r\n  cancelBtnText,\r\n  onConfirm,\r\n  onCancel\r\n) => ({\r\n  show: true,\r\n  danger: true,\r\n  showCancel: true,\r\n  cancelBtnCssClass: \"alert-btn\",\r\n  confirmBtnCssClass: \"alert-btn danger-btn\",\r\n  cancelBtnText,\r\n  confirmBtnText,\r\n  title,\r\n  onConfirm,\r\n  onCancel,\r\n});\r\n\r\nconst getSuccessProps = (title, onConfirm) => ({\r\n  show: true,\r\n  success: true,\r\n  confirmBtnCssClass: \"alert-btn\",\r\n  title,\r\n  onConfirm,\r\n});\r\n\r\nconst isValidUrl = url => {\r\n  try {\r\n    new URL(url);\r\n    return true\r\n  }\r\n  catch (e) { return false; }\r\n}\r\n\r\nconst extractDomain = (url) => {\r\n  if (!url) return \"\";\r\n  try {\r\n    return new URL(url).hostname;\r\n  }\r\n  catch (e) { return url; }\r\n}\r\n\r\nexport {\r\n  Colors,\r\n  defaultAlertProps,\r\n  getWarningProps,\r\n  getDangerProps,\r\n  getSuccessProps,\r\n  extractDomain,\r\n  isValidUrl\r\n};\r\n","import React, { memo, useCallback, useState } from \"react\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { Menu } from '@material-ui/icons';\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\n\r\nimport { useAuth } from \"../../provider/auth\";\r\n\r\nimport \"./header.css\";\r\nimport FeedLogo from \"../feedlogo/feedlogo\";\r\nimport { Colors } from \"../../Constants\";\r\n\r\nconst BootstrapInput = withStyles((_) => ({\r\n  input: {\r\n    position: \"relative\",\r\n    color: \"white\",\r\n    border: \"2px solid white\",\r\n    borderRadius: \"4px\",\r\n    fontSize: 16,\r\n    padding: \"10px 26px 10px 12px\",\r\n    fontFamily: \"Poppins\",\r\n    \"&:focus\": {\r\n      borderRadius: 2,\r\n      borderColor: Colors.light,\r\n    },\r\n  },\r\n}))(InputBase);\r\n\r\nconst handleSendMail = () => {\r\n  window.location.href = \"mailto: feedmyflow@gmail.com\";\r\n};\r\n\r\nconst HeaderItem = memo(({ text, onClick }) => (\r\n  <div onClick={onClick} className=\"header-item\">\r\n    <p className=\"header-text\">{text}</p>\r\n  </div>\r\n));\r\n\r\nconst Header = memo((props) => {\r\n  const auth = useAuth();\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const handleDashboard = useCallback(() => props.history.push(\"/dashboard\"), [props]);\r\n  const handleHome = useCallback(() => props.history.push(\"/\"), [props]);\r\n  const handleAbout = useCallback(() => props.history.push(\"/about\"), [props]);\r\n  const onAuthOut = useCallback(() => auth.signOut(props), [auth, props]);\r\n  const onAuthIn = useCallback(() => auth.signIn(true, props), [auth, props]);\r\n\r\n  const changeLanguage = (lng) => {\r\n    i18n.changeLanguage(lng);\r\n  }\r\n\r\n  const [MobileNavVisible,SetMobileNavVisible] = useState(false);\r\n\r\n  const toogleMobileNav = () => {\r\n    SetMobileNavVisible(!MobileNavVisible)\r\n  }\r\n\r\n  const languageDic = window.innerWidth > 600 ? \"header.language.\" : \"header.language-small.\";\r\n  const logoSize = window.innerWidth > 600 ? 50 : 35;\r\n\r\n  const LanguageItem = () => (\r\n    <div className=\"header-item\" id=\"language-selection\">\r\n      <FormControl variant=\"outlined\">\r\n        <Select\r\n          native\r\n          value={i18n.language}\r\n          onChange={({ target: { value } }) => changeLanguage(value)}\r\n          input={<BootstrapInput />}\r\n          MenuProps={{\r\n            icon: \"white\",\r\n          }}\r\n        >\r\n          <option value=\"fr\">{t(`${languageDic}french`)}</option>\r\n          <option value=\"en\">{t(`${languageDic}english`)}</option>\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n\r\n  const HeaderItems = () => (\r\n    <div className=\"options-container\">.\r\n      <nav hidden={!MobileNavVisible}>\r\n        {auth.authStatus.isConnected ? (\r\n          <HeaderItem text={t(\"header.dashboard\")} onClick={handleDashboard} />\r\n          ) : (\r\n          <HeaderItem text={t(\"header.home\")} onClick={handleHome} />\r\n        )}\r\n        <HeaderItem text={t(\"header.about\")} onClick={handleAbout} />\r\n        <HeaderItem text={t(\"header.contact\")} onClick={handleSendMail} />\r\n        {auth.authStatus.isConnected ? (\r\n          <HeaderItem text={t(\"header.disconnect\")} onClick={onAuthOut} />\r\n          ) : (\r\n          <HeaderItem text={t(\"header.connect\")} onClick={onAuthIn} />\r\n        )}\r\n      </nav>\r\n      <LanguageItem />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className=\"header-container\"\r\n      style={{ backgroundColor: Colors.shade1 }}\r\n    >\r\n      <Menu id=\"menu-button\" onClick={()=>toogleMobileNav()}/>\r\n      <FeedLogo size={logoSize} action={handleHome} />\r\n      <HeaderItems />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Header;\r\n","import React, { useCallback, memo } from \"react\";\r\n\r\nimport Header from \"../../components/header/header\";\r\nimport FeedLogo from \"../../components/feedlogo/feedlogo\";\r\nimport { useAuth } from \"../../provider/auth\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport linkedin from \"../../assets/linkedin.jpg\";\r\nimport post from \"../../assets/post.svg\";\r\nimport { Colors } from \"../../Constants\";\r\nimport \"./home.css\";\r\n\r\n\r\nconst ICON_SIZE = window.innerWidth > 600 ? 60 : 50;\r\n\r\nconst RightPart = () => (\r\n  <div className=\"column\">\r\n    <img alt=\"linkedin-mockup\" src={linkedin} className=\"linkedin-image\" />\r\n  </div>\r\n);\r\n\r\nconst UpperText = ({ t, iconSize }) => (\r\n  <div className=\"column\" id=\"home-left-column\">\r\n    <div className=\"main-text\">\r\n      <FeedLogo isMonotone={false} size={iconSize} />\r\n      <div className=\"absolute-text\" style={{ left: (3 * iconSize) / 6 }}>\r\n        <p className=\"important-text\">eed my flow</p>\r\n      </div>\r\n    </div>\r\n    <p className='second-text'>{t('home.slogan')}</p>\r\n  </div>\r\n);\r\n\r\nconst Home = memo((props) => {\r\n  const auth = useAuth();\r\n  const { t } = useTranslation();\r\n  const onAuth = useCallback(() => auth.signIn(true, props), [auth, props]);\r\n\r\n  const GoButton = () => (\r\n    <div\r\n      style={{ backgroundColor: Colors.shade1 }}\r\n      className=\"cta-container\"\r\n      onClick={onAuth}\r\n    >\r\n      <p className='cta-text'>{t('home.go')}</p>\r\n    </div>\r\n  );\r\n\r\n  const LeftPart = () => (\r\n    <div className=\"column\">\r\n      <UpperText t={t} iconSize={ICON_SIZE} />\r\n      <img alt=\"home-illustration\" src={post} className=\"post-image\" />\r\n      <GoButton />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <Header {...props} />\r\n      <div className=\"fakenav\"></div>\r\n      <div className=\"home-wrapper\">\r\n        <LeftPart />\r\n        <RightPart />\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Home;\r\n","import React, { useEffect } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../../provider/auth\";\r\nimport FeedLogo from \"../../components/feedlogo/feedlogo\";\r\n\r\nconst Login = ({ component: Component, ...rest }) => {\r\n  const auth = useAuth();\r\n  const userCanceled = rest.location.search.includes(\"error=user_cancelled_login\") || rest.location.search.includes(\"error=user_cancelled_authorize\");\r\n\r\n  useEffect(()=>{\r\n    if(!auth.authStatus.haveTriedLogin && !userCanceled) auth.signIn(false,null)\r\n  }, [auth, userCanceled])\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (!auth.authStatus.haveTriedLogin && !userCanceled) {\r\n          return (\r\n            <div className=\"center\">\r\n              <FeedLogo size={100} animated={true} isMonotone={false} />\r\n          </div>\r\n          )\r\n        }\r\n        return (\r\n          <Redirect\r\n            to={{\r\n              pathname: auth.authStatus.isConnected ? \"/dashboard\" : \"/\",\r\n              state: {\r\n                from: props.location,\r\n              },\r\n            }}\r\n          />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\n\r\nimport \"./InfoAlert.css\";\r\n\r\nexport default (props) => {\r\n  return <SweetAlert {...props}></SweetAlert>;\r\n};\r\n","import React, { useState, useEffect, memo } from 'react';\nimport './PostPreview.css';\n\nimport fire from '../../provider/firebase';\n\nimport { extractDomain, isValidUrl, Colors } from '../../Constants';\n\nconst WIDTH_BONE_1 = { width: '20vw' };\nconst WIDTH_BONE_2 = { width: '10vw' };\n\nexport default memo(\n  ({\n    inPreviewMode,\n    photoUrl,\n    displayName,\n    content,\n    isLinkValid,\n    title,\n    description,\n    url,\n    fileInfo,\n    setTitle,\n    hideDescription,\n    setHideDescription,\n  }) => {\n    const [embedSource, setEmbedSource] = useState(null);\n    const [embedType, setEmbedType] = useState('IMAGE');\n\n    useEffect(() => {\n      if (fileInfo !== undefined && fileInfo !== null) {\n        // setEmbedType(fileInfo.contentType === 'video/mp4' ? 'VIDEO' : 'IMAGE');\n        const ref = fire.storage().ref(fileInfo.filePath);\n        ref.getDownloadURL().then((mediaUrl) => {\n          setEmbedSource(mediaUrl);\n        });\n      } else setEmbedSource(null);\n    }, [fileInfo]);\n\n    useEffect(() => {\n      if (isLinkValid && url !== '') {\n        const encoded = encodeURIComponent(url);\n        fetch(`https://urlpreview.vercel.app/api/v1/preview?url=${encoded}`)\n          .then((res) => {\n            if (res.ok) return res.json();\n            throw new Error(`${res.status}: ${res.statusText}`);\n          })\n          .then((json) => {\n            const { title, image: url } = json;\n            setEmbedSource(url);\n            setTitle(title);\n            if (url !== undefined && url !== null) {\n              setHideDescription(true);\n            } else {\n              setHideDescription(false);\n            }\n          })\n          .catch((err) => {\n            // console.log(err);\n            setHideDescription(false);\n            setEmbedSource(null);\n            setTitle('');\n          });\n      }\n    }, [isLinkValid, url, embedSource, setTitle, setHideDescription]);\n\n    const getLine = (line) => {\n      const tokens = line.split(' ');\n      return tokens.map((t) => {\n        let textStyle = { color: Colors.shade1 };\n        // has hashtag with more than just the shebang or is a url (# is a valid url so we remove that case)\n        if ((t[0] === '#' && t.length > 1) || (isValidUrl(t) && t !== '#')) { textStyle = { color: Colors.light }; }\n        return <span style={textStyle}>{`${t} `}</span>;\n      });\n    };\n\n    const HeaderPost = () => (\n      <div className=\"row\" style={{ marginTop: '20px' }}>\n        <img src={photoUrl} alt=\"user-img\" className=\"user-img\" />\n        <div\n          className=\"column\"\n          style={{ alignItems: 'flex-start', marginLeft: '20px' }}\n        >\n          <p style={{ margin: 0 }}>{displayName}</p>\n          <div className=\"skeleton\" style={WIDTH_BONE_1} />\n          <div className=\"skeleton\" style={WIDTH_BONE_2} />\n        </div>\n      </div>\n    );\n\n    const ContentPost = () => (\n      <div className=\"row\" id=\"post-content\">\n        {content.split('\\n').map((line, i) => (\n          <p key={i} className=\"next-post-item\">\n            {getLine(line)}\n          </p>\n        ))}\n      </div>\n    );\n\n    const RenderBottom = () => (\n      <div className=\"column\" style={{ width: '100%' }}>\n        {embedSource && (\n          <div className=\"img-container\">\n            <>\n              {embedType === 'IMAGE'\n                ? <img src={embedSource} alt=\"embed\" className=\"embed-img\" />\n                : (\n                  <video controls>\n                    <source src={embedSource} type=\"video/mp4\" />\n                  </video>\n                )}\n            </>\n          </div>\n        )}\n\n        {(url || title || description) && (\n          <div className=\"url-info-container\">\n            <p className=\"description-text clipped clip-1\">{title}</p>\n            <p\n              className=\"second-text\"\n              style={{ fontSize: '14px', margin: '6px 0 6px 0' }}\n            >\n              {isLinkValid ? extractDomain(url) : url}\n            </p>\n            {!hideDescription && (\n              <p className=\"description-text clipped clip-2\">{description}</p>\n            )}\n          </div>\n        )}\n      </div>\n    );\n\n    return (\n      <div\n        className={\n          inPreviewMode ? 'card overflowable visible' : 'card overflowable'\n        }\n        id=\"preview-card\"\n      >\n        <HeaderPost />\n        <ContentPost />\n        <RenderBottom />\n      </div>\n    );\n  },\n);\n","import { Colors } from \"../../Constants\";\r\nimport {\r\n  withStyles,\r\n  Button,\r\n  makeStyles,\r\n  createMuiTheme,\r\n} from \"@material-ui/core\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: Colors.primary,\r\n    },\r\n  },\r\n  overrides: {\r\n    MuiFormLabel: {\r\n      asterisk: {\r\n        color: Colors.error,\r\n        \"&$error\": {\r\n          color: Colors.error,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst ConfirmButton = withStyles({\r\n  root: {\r\n    backgroundColor: Colors.shade1,\r\n    marginTop: \"3%\",\r\n    marginBottom: \"5%\",\r\n    borderRadius: \"100px\",\r\n    padding: \"1% 2%\",\r\n    \"&:hover\": {\r\n      backgroundColor: Colors.primary,\r\n    },\r\n    \"&:disabled\": {\r\n      backgroundColor: \"rgba(0, 0, 0, 0.2)\",\r\n    },\r\n  },\r\n  label: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"18px\",\r\n  },\r\n})(Button);\r\n\r\nconst DeleteButton = withStyles({\r\n  root: {\r\n    backgroundColor: Colors.error,\r\n    marginTop: \"3%\",\r\n    marginBottom: \"5%\",\r\n    borderRadius: \"100px\",\r\n    padding: \"1% 2%\",\r\n    \"&:hover\": {\r\n      backgroundColor: Colors.error,\r\n    },\r\n  },\r\n  label: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"18px\",\r\n  },\r\n})(Button);\r\n\r\nconst CloseIcon = withStyles({\r\n  root: {\r\n    fill: Colors.shade1\r\n  }\r\n})(CancelIcon);\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nexport { theme, useStyles, DeleteButton, ConfirmButton, CloseIcon };\r\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n  memo,\n  useReducer,\n} from 'react';\nimport {\n  Modal, Backdrop, Fade, TextField, Select, MenuItem, FormControl, InputLabel\n} from '@material-ui/core';\n\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport DateFnsUtils from '@date-io/date-fns';\n\nimport { useTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport { v4 as uuidv4 } from 'uuid';\nimport fire from '../../provider/firebase';\n\nimport './creationModal.css';\nimport {\n  defaultAlertProps,\n  getWarningProps,\n  getDangerProps,\n  isValidUrl,\n} from '../../Constants';\nimport InfoAlert from '../InfoAlert/InfoAlert';\nimport PostPreview from '../PostPreview/PostPreview';\nimport {\n  theme,\n  ConfirmButton,\n  DeleteButton,\n  CloseIcon,\n  useStyles,\n} from './styling';\n\nconst BACKDROP_PROPS = { timeout: 500, className: 'backdrop' };\n\nconst descriptionPredicate = (hideDescription, isLinkValid) => {\n  if (!hideDescription && isLinkValid) return { display: 'block' };\n  return { display: 'none' };\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_DATE':\n      return { ...state, publicationDate: action.payload };\n    case 'SET_TIME':\n      return { ...state, publicationTime: action.payload };\n    case 'SET_COMMENTARY':\n      return { ...state, shareCommentary: action.payload };\n    case 'SET_CATEGORY':\n      return { ...state, shareMediaCategory: action.payload };\n    case 'SET_VISIBILITY':\n      return { ...state, visibility: action.payload };\n    case 'SET_TITLE':\n      return { ...state, mediaTitle: action.payload };\n    case 'SET_DESCRIPTION':\n      return { ...state, mediaDescription: action.payload };\n    case 'SET_HIDE_DESCRIPTION':\n      return { ...state, hideDescription: action.payload };\n    case 'SET_LINK_VALID':\n      return { ...state, isLinkValid: action.payload };\n    case 'SET_URL':\n      return { ...state, mediaUrl: action.payload };\n    case 'SET_FILE_INFO':\n      return { ...state, fileInfo: action.payload };\n    case 'SET_AUTHOR':\n      return { ...state, author: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst getInitialState = (props, isMedia, isEvent, date, userUid) => ({\n  publicationDate: isEvent ? new Date(props.publicationTime.toDate()) : date,\n  publicationTime: isEvent ? new Date(props.publicationTime.toDate()) : date,\n  shareCommentary: isEvent ? props.shareCommentary : '',\n  shareMediaCategory: isEvent ? props.shareMediaCategory : 'NONE',\n  visibility: isEvent ? props.visibility : 'PUBLIC',\n  mediaTitle: isEvent && isMedia ? props.media.title : '',\n  mediaDescription: isEvent && isMedia ? props.media.description : '',\n  mediaUrl: isEvent && isMedia ? props.media.originalUrl : '',\n  fileInfo: isEvent && isMedia ? props.media.fileInfo : undefined,\n  hideDescription:\n    !!((isEvent && isMedia && props.media.description === undefined) || !isEvent),\n  isLinkValid:\n    !!(isEvent && isMedia && props.media.originalUrl !== undefined),\n  author: isEvent && isMedia ? props.author: `urn:li:person:`+userUid.split(':')[1],\n});\n\nconst CreationModal = memo(({ isOpen, data, handleClose, role }) => {\n  // function variables\n  const isEvent = data !== null && data !== undefined;\n  const isMedia = isEvent ? data.media !== undefined && data.media !== null : false;\n  const roleInit = isEvent ? role.find(r => r.organization === data.author) : role[0];\n  const { t } = useTranslation();\n  const db = fire.firestore();\n  const userUid = fire.auth().currentUser.uid;\n  const storageRef = fire.storage().ref();\n  const classes = useStyles();\n  const date = new Date();\n  date.setMinutes(60);\n\n  // stateful values\n  const [haveModification, setHaveModification] = useState(false);\n  const [canSave, setCanSave] = useState(false);\n  const [alertProps, setAlertProps] = useState(defaultAlertProps);\n  const [isLinkValid, setIsLinkValid] = useState(false);\n  const [inPreviewMode, setPreviewMode] = useState(false);\n  const [selectedRole, setSelectedRole] = useState(roleInit);\n  const [postFilePath, setPostFilePath] = useState(null);\n  const hiddenFileInput = React.useRef(null);\n  const [\n    {\n      publicationDate,\n      publicationTime,\n      shareCommentary,\n      shareMediaCategory,\n      visibility,\n      mediaTitle,\n      mediaDescription,\n      mediaUrl,\n      hideDescription,\n      fileInfo,\n      author,\n    },\n    dispatch,\n  ] = useReducer(reducer, getInitialState(data, isMedia, isEvent, date, userUid));\n\n  // side-effects\n  useEffect(() => {\n    setIsLinkValid(isValidUrl(mediaUrl));\n  }, [mediaUrl]);\n\n  useEffect(() => {\n    if (!isOpen && !isEvent) {\n      const date = new Date();\n      dispatch({ type: 'SET_DATE', payload: date });\n      dispatch({ type: 'SET_TIME', payload: date });\n      dispatch({ type: 'SET_COMMENTARY', payload: '' });\n      dispatch({ type: 'SET_CATEGORY', payload: 'NONE' });\n      dispatch({ type: 'SET_VISIBILITY', payload: 'PUBLIC' });\n      dispatch({ type: 'SET_TITLE', payload: '' });\n      dispatch({ type: 'SET_DESCRIPTION', payload: '' });\n      dispatch({ type: 'SET_URL', payload: '' });\n      dispatch({ type: 'SET_FILE_INFO', payload: null });\n      dispatch({ type: 'SET_AUTHOR', payload: '' });\n    }\n  }, [isOpen, isEvent]);\n\n  useEffect(() => {\n    if (shareCommentary === '') setCanSave(false);\n    else if (shareMediaCategory !== 'ARTICLE' && mediaUrl === '') setCanSave(true);\n    else if (mediaUrl !== '' && mediaTitle !== '') { setCanSave(true); } else setCanSave(false);\n    return () => {\n      setHaveModification(true);\n    };\n  }, [publicationDate, publicationTime, shareCommentary, shareMediaCategory, visibility, mediaTitle, mediaDescription, mediaUrl, fileInfo]);\n\n  // memoized functions\n  const onCloseAlert = useCallback(\n    () => setAlertProps({ ...alertProps, show: false }),\n    [alertProps],\n  );\n  const setMediaTitleMemo = useCallback(\n    (payload) => dispatch({ type: 'SET_TITLE', payload }),\n    [],\n  );\n  const setHideDescriptionMemo = useCallback(\n    (payload) => dispatch({ type: 'SET_HIDE_DESCRIPTION', payload }),\n    [],\n  );\n\n  const handleUploadClick = (event) => {\n    hiddenFileInput.current.click();\n  };\n\n  const handleChangeFileUpload = (event) => {\n    const fileUploaded = event.target.files[0];\n\n    const allowedTpes = ['image/png', 'image/gif', 'image/jpeg'];\n    const contentType = fileUploaded.type;\n    if (!allowedTpes.includes(contentType)) return alert(t('creationModal.upload.notSupportedFormat'));\n\n    const fileExtension = fileUploaded.name.split('.')[1];\n    const uuid = uuidv4();\n    const path = `temp/${userUid}_${uuid}.${fileExtension}`;\n    const imageRef = storageRef.child(path);\n\n    imageRef.put(fileUploaded).then(() => {\n      dispatch({ type: 'SET_TITLE', payload: '' });\n      dispatch({ type: 'SET_DESCRIPTION', payload: '' });\n      dispatch({ type: 'SET_URL', payload: '' });\n      dispatch({ type: 'SET_FILE_INFO', payload: { filePath: path, contentType } });\n      dispatch({ type: 'SET_CATEGORY', payload: contentType === 'video/mp4' ? 'VIDEO' : 'IMAGE' }); // Le changement de format ne marche pas\n    }).catch(() => {\n      alert(t('creationModal.upload.fail'));\n    });\n  };\n\n  const deleteInStorage = (childPath) => {\n    storageRef.child(childPath).delete();\n  };\n\n  const handleRemoveMedia = (removingState) => {\n    if(fileInfo){\n      const { filePath } = fileInfo;\n      try {\n        const fileName = filePath.split('/').slice(-1)[0];\n        if (removingState === 'temp' && filePath.split('/')[0]) setPostFilePath(filePath);\n        if (removingState === 'post' || removingState === 'both') deleteInStorage(`post/${userUid}/${fileName}`);\n        if (removingState === 'temp' || removingState === 'both') {\n          deleteInStorage(`temp/${fileName}`);\n          dispatch({ type: 'SET_FILE_INFO', payload: null });\n          dispatch({ type: 'SET_CATEGORY', payload: 'NONE' });\n        }\n      } catch (error) {}\n    }\n  };\n\n  const moveStorageMedia = (postId, linekdinPost) => {\n    if(linekdinPost.media.fileInfo){\n      const { filePath } = linekdinPost.media.fileInfo;\n      if (filePath.split('/')[0] === 'temp') {\n        const moveMedia = fire.functions().httpsCallable('moveMedia');\n        moveMedia({ media: linekdinPost.media, userUid, postId });\n      }\n    }\n  };\n\n  const formatData = () => {\n    const rawDate = `${publicationDate.getDate()}/${\n      publicationDate.getMonth() + 1\n    }/${publicationDate.getFullYear()}`;\n    const hours = publicationTime.getHours() === 0 ? '00' : publicationTime.getHours();\n    const minutes = publicationTime.getMinutes() === 0 ? '00' : publicationTime.getMinutes();\n    const rawTime = `${hours}:${minutes}`;\n    const time = moment(`${rawDate} ${rawTime}:00`, 'DD/MM/YYYY hh:mm');\n\n    const linekdinPost = {\n      author: author,\n      userUID: userUid,\n      publicationTime: time.toDate(),\n      shareCommentary,\n      visibility,\n      shareMediaCategory,\n      rawDate,\n      rawTime,\n      publisherName:selectedRole.localizedName,\n      publisherPhoto:selectedRole.orgMedia.url,\n      media: null,\n    };\n    if (shareMediaCategory === 'ARTICLE') {\n      if (isLinkValid) {\n        linekdinPost.media = {\n          title: mediaTitle,\n          originalUrl: mediaUrl,\n        };\n        if (!hideDescription && mediaDescription !== '') {\n          linekdinPost.media.description = mediaDescription;\n        }\n      }\n    }\n    if (shareMediaCategory === 'IMAGE') {\n      linekdinPost.media = {\n        fileInfo,\n      };\n    }\n    return linekdinPost;\n  };\n\n  const validDate = () => {\n    if (\n      publicationDate.toString() === 'Invalid Date'\n        || publicationTime.toString() === 'Invalid Date'\n    ) {\n      setAlertProps(\n        getWarningProps(t('creationModal.validDate.valid'), onCloseAlert),\n      );\n      return false;\n    }\n    const dateTocheck = new Date(publicationDate.getTime());\n    dateTocheck.setHours(\n      publicationTime.getHours(),\n      publicationTime.getMinutes(),\n    );\n    if (dateTocheck < new Date()) {\n      setAlertProps(\n        getWarningProps(t('creationModal.validDate.before'), onCloseAlert),\n      );\n      return false;\n    }\n    return true;\n  };\n\n  const configurePublicationTime = (dateTime) => {\n    if (dateTime !== null) {\n      let quarter = Math.floor(dateTime.getMinutes() / 15);\n      if (!isNaN(dateTime.getMinutes())) {\n        if (dateTime.getMinutes() % 15 !== 0) {\n          setAlertProps(\n            getWarningProps(\n              t('creationModal.publicationTime.quarter'),\n              onCloseAlert,\n            ),\n          );\n        }\n        if (dateTime.getMinutes() % 15 > 7) quarter += 1;\n      }\n      dateTime.setMinutes(quarter * 15);\n    }\n    dispatch({ type: 'SET_TIME', payload: dateTime });\n  };\n\n  // Firebase functions\n  const onSendData = () => {\n    if (validDate() && canSave) {\n      const linekdinPost = formatData();\n      db.collection('user').doc(userUid).collection('post').add(linekdinPost)\n        .then((snapshot) => {\n          const postId = snapshot.id;\n          moveStorageMedia(postId, linekdinPost);\n        });\n      handleClose();\n    }\n  };\n\n  const onUpdateData = () => {\n    if (validDate() && canSave && haveModification) {\n      const linekdinPost = formatData();\n      const postId = data.id;\n      db.collection('user')\n        .doc(userUid)\n        .collection('post')\n        .doc(postId)\n        .update(linekdinPost)\n        .then(() => {\n          deleteInStorage(postFilePath);\n          moveStorageMedia(postId, linekdinPost);\n        });\n      handleClose();\n      setHaveModification(false);\n    }\n  };\n\n  const onDeleteData = () => {\n    const postId = data.id;\n    const onConfirm = () => {\n      db.collection('user')\n        .doc(userUid)\n        .collection('post')\n        .doc(postId)\n        .delete()\n        .then(() => {\n          handleRemoveMedia('both');\n        });\n      handleClose();\n    };\n    setAlertProps(\n      getDangerProps(\n        t('creationModal.deleteDate.confirm'),\n        t('creationModal.deleteDate.delete'),\n        t('creationModal.deleteDate.cancel'),\n        onConfirm,\n        onCloseAlert,\n      ),\n    );\n  };\n\n  // render components\n  const CustomAlert = () => (\n    <>{alertProps.show && <InfoAlert {...alertProps} />}</>\n  );\n\n  const buttonSection = () => (isEvent ? (\n    <div className=\"row\">\n      <DeleteButton onClick={onDeleteData}>\n        {t('creationModal.button.delete')}\n      </DeleteButton>\n      <ConfirmButton onClick={onUpdateData} disabled={!haveModification || !canSave}>\n        {t('creationModal.button.update')}\n      </ConfirmButton>\n    </div>\n  ) : (\n    <ConfirmButton onClick={onSendData} disabled={!canSave}>\n      {t('creationModal.button.create')}\n    </ConfirmButton>\n  ));\n\n  const topText = () => (\n    <p className=\"important-text\" id=\"creation-modal-toptext\">\n      {isEvent\n        ? t('creationModal.text.schedule', {\n          rawDate: data.rawDate,\n          rawTime: data.rawTime,\n        })\n        : t('creationModal.text.create')}\n    </p>\n  );\n\n  const timeRow = () => (\n    <div className=\"row\" id=\"time-row\">\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <KeyboardDatePicker\n          required\n          style={{ marginRight: '20px' }}\n          id=\"date-picker-dialog\"\n          label={t('creationModal.input.date')}\n          format=\"dd/MM/yyyy\"\n          value={publicationDate}\n          onChange={(e) => dispatch({ type: 'SET_DATE', payload: e })}\n          KeyboardButtonProps={{\n            'aria-label': 'change date',\n          }}\n        />\n        <KeyboardTimePicker\n          required\n          id=\"time-picker\"\n          style={{ marginRight: '20px' }}\n          label={t('creationModal.input.time')}\n          value={publicationTime}\n          ampm={false}\n          minutesStep={15}\n          onChange={(e) => configurePublicationTime(e)}\n          KeyboardButtonProps={{\n            'aria-label': 'change time',\n          }}\n        />\n        <div className=\"column\" id=\"visibility-container\" style={{ paddingTop: '16px' }}>\n          <Select\n            labelId={t('creationModal.input.visibility')}\n            id=\"visibility\"\n            value={visibility}\n            onChange={({ target: { value } }) => dispatch({ type: 'SET_VISIBILITY', payload: value })}\n          >\n            <MenuItem value=\"PUBLIC\">\n              {t('creationModal.input.visibilityValue.public')}\n            </MenuItem>\n            <MenuItem value=\"CONNECTIONS\">\n              {t('creationModal.input.visibilityValue.connexions')}\n            </MenuItem>\n          </Select>\n        </div>\n      </MuiPickersUtilsProvider>\n    </div>\n  );\n\n  const contentRow = () => (\n    <div className=\"row\">\n      <TextField\n        fullWidth\n        label={t('creationModal.input.shareCommentary')}\n        id=\"shareCommentary\"\n        value={shareCommentary}\n        onChange={({ target: { value } }) => dispatch({ type: 'SET_COMMENTARY', payload: value })}\n        multiline\n        rowsMax={4}\n        required\n      />\n    </div>\n  );\n\n  const handleChangeRole = ({ target: { value } }) => {\n    setSelectedRole(value);\n    dispatch({ type: 'SET_AUTHOR', payload: value.organization });\n    setHaveModification(true);\n  }\n  \n  const mediaRow = () => (\n    <>\n      {!fileInfo && (\n        <div className=\"row\">\n          <input\n            accept=\"image/png, image/gif, image/jpeg\"\n            type=\"file\"\n            ref={hiddenFileInput}\n            onChange={handleChangeFileUpload}\n            style={{ display: 'none' }}\n          />\n          <TextField\n            fullWidth\n            id=\"mediaUrl\"\n            label={t('creationModal.input.mediaUrl')}\n            value={mediaUrl}\n            onChange={({ target: { value } }) => {\n              dispatch({ type: 'SET_CATEGORY', payload: value === '' ? 'NONE' : 'ARTICLE' });\n              dispatch({ type: 'SET_URL', payload: value });\n            }}\n          />\n        </div>\n      )}\n      <div className=\"row\">\n        {fileInfo\n          ? (\n            <DeleteButton\n              onClick={() => handleRemoveMedia('temp')}\n            >\n              {t('creationModal.button.deleteContent')}\n            </DeleteButton>\n          )\n          : (\n            <ConfirmButton\n              onClick={handleUploadClick}\n              style={{ marginRight: '20px' }}\n            >\n              {t('creationModal.button.uploadContent')}\n            </ConfirmButton>\n          )}\n          {selectedRole && role.length > 0 && <FormControl>\n          <InputLabel shrink>\n            {t('creationModal.text.publishAs')}\n          </InputLabel>\n          <Select\n            value={selectedRole}\n            onChange={handleChangeRole}\n          >\n            {role.map((r, idx) =>(\n              <MenuItem key={idx} value={r}>\n                {r.localizedName}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>}\n      </div>\n    </>\n  );\n\n  const mediaTitleRow = () => (\n    <div className=\"row\" style={{ display: isLinkValid ? 'block' : 'none' }}>\n      <TextField\n        fullWidth\n        id=\"mediaTitle\"\n        label={t('creationModal.input.mediaTitle')}\n        value={mediaTitle}\n        onChange={({ target: { value } }) => dispatch({ type: 'SET_TITLE', payload: value })}\n      />\n    </div>\n  );\n\n  const mediaDescriptionRow = () => (\n    <div className=\"row\" style={descriptionPredicate(hideDescription, isLinkValid)}>\n      <TextField\n        fullWidth\n        id=\"mediaDescription\"\n        label={t('creationModal.input.mediaDescription')}\n        value={mediaDescription}\n        onChange={({ target: { value } }) => dispatch({ type: 'SET_DESCRIPTION', payload: value })}\n        multiline\n        rowsMax={4}\n      />\n    </div>\n  );\n\n  const closeButton = () => (\n    <CloseIcon onClick={handleClose} className=\"close-icon\" />\n  );\n\n  const phoneModeToggle = () => (\n    <div id=\"phone-mode-toggle\">\n      <input type=\"radio\" name=\"phonemode\" id=\"edit\" onClick={() => setPreviewMode(false)} checked={!inPreviewMode} />\n      <label htmlFor=\"edit\" id=\"edit-label\">Edit</label>\n      <input type=\"radio\" name=\"phonemode\" id=\"preview\" onClick={() => setPreviewMode(true)} checked={inPreviewMode} />\n      <label htmlFor=\"preview\" id=\"preview-label\">Preview</label>\n    </div>\n  );\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      id=\"modal\"\n      className={classes.modal}\n      open={isOpen}\n      onClose={handleClose}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={BACKDROP_PROPS}\n    >\n      <Fade in={isOpen}>\n        <ThemeProvider theme={theme}>\n\n          {phoneModeToggle()}\n\n          <div\n            id=\"creation-modal-container\"\n            className={inPreviewMode ? 'card overflowable' : 'card overflowable visible'}\n          >\n            {closeButton()}\n            {topText()}\n            {timeRow()}\n            {contentRow()}\n            {mediaTitleRow()}\n            {mediaDescriptionRow()}\n            {mediaRow()}\n            {buttonSection()}\n          </div>\n          {selectedRole && <PostPreview\n            inPreviewMode={inPreviewMode}\n            photoUrl={selectedRole.orgMedia.url}\n            displayName={selectedRole.localizedName}\n            content={shareCommentary}\n            title={mediaTitle}\n            isLinkValid={isLinkValid}\n            url={mediaUrl}\n            fileInfo={fileInfo}\n            description={mediaDescription}\n            setTitle={setMediaTitleMemo}\n            setHideDescription={setHideDescriptionMemo}\n            hideDescription={hideDescription}\n          />}\n          <CustomAlert />\n        </ThemeProvider>\n      </Fade>\n    </Modal>\n  );\n});\n\nexport default CreationModal;\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/fr\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\n\r\nimport CreationModal from \"../../components/creationModal/creationModal\";\r\n// import { Scrollbars } from \"react-custom-scrollbars\";\r\nimport Header from \"../../components/header/header\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport fire from \"../../provider/firebase\";\r\n\r\nimport { Colors } from \"../../Constants\";\r\nimport empty from \"../../assets/empty.svg\";\r\nimport \"./calendar.css\";\r\n\r\nconst useModalWithData = (initialMode = false, initialSelected = null) => {\r\n  const [modalOpen, setModalOpen] = useState(initialMode);\r\n  const [selected, setSelected] = useState(initialSelected);\r\n  const setModalState = useCallback(\r\n    (state) => {\r\n      setModalOpen(state);\r\n      if (state === false) {\r\n        setSelected(null);\r\n      }\r\n    },\r\n    [setModalOpen, setSelected]\r\n  );\r\n  const handleClose = useCallback(() => setModalState(false), [setModalState]);\r\n  return {\r\n    modalOpen,\r\n    setModalOpen,\r\n    selected,\r\n    setSelected,\r\n    setModalState,\r\n    handleClose,\r\n  };\r\n};\r\n\r\nconst CALENDAR_STYLE = { height: \"65vh\", width: \"100%\" };\r\nconst CALENDAR_VIEWS = { month: true, week: true };\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\nconst Mycalendar = (props) => {\r\n  const [eventsList, setEventsList] = useState([]);\r\n  const [role, setRole] = useState([]);\r\n  const {\r\n    modalOpen,\r\n    selected,\r\n    handleClose,\r\n    setSelected,\r\n    setModalState,\r\n  } = useModalWithData();\r\n  const { t, i18n } = useTranslation();\r\n\r\n  // const scrollbarStyle = window.innerWidth > 1000\r\n  // ?{width: \"44vw\", height: \"30vw\", marginTop: \"50px\"}\r\n  // :{width: \"90vw\", height: \"40vh\",maxHeight: \"40vh\", marginTop: \"50px\" };\r\n\r\n  useEffect(() => {\r\n    const currentUser = fire.auth().currentUser;\r\n    const userUid = currentUser.uid;\r\n    const db = fire.firestore();\r\n    const unsubscribeSnapshot = db\r\n      .collection(\"user\")\r\n      .doc(userUid)\r\n      .collection(\"post\")\r\n      .onSnapshot((documents) => {\r\n        let newEventsList = documents.docs.map((query, i) => {\r\n          let data = query.data();\r\n          data[\"itemId\"] = i;\r\n          data[\"id\"] = query.id;\r\n          data[\"title\"] = data.shareCommentary;\r\n          data[\"start\"] = new Date(data.publicationTime.toDate());\r\n          data[\"end\"] = moment(data.start).add(15, \"m\").toDate();\r\n          return data;\r\n        });\r\n        newEventsList.sort((a, b) => a.start - b.start);\r\n        setEventsList(newEventsList);\r\n        return () => {\r\n          unsubscribeSnapshot();\r\n        };\r\n      });\r\n      \r\n    const unsubscribeAuthor = db.collection(\"user\").doc(userUid).onSnapshot((doc) => {\r\n      if (doc.exists) {\r\n        const userRole = [{\r\n          localizedName: currentUser.displayName,\r\n          orgMedia:{\r\n            mediaType: \"image/jpeg\",\r\n            url:currentUser.photoURL\r\n          },\r\n          organization:\"urn:li:person:\"+userUid.split(':')[1],\r\n        }]\r\n        setRole([...userRole,...doc.data().organizationList]);\r\n      }\r\n      else{\r\n        const organisationInfo = fire.functions().httpsCallable('organisationInfo');\r\n        organisationInfo(userUid)\r\n      }\r\n    return () => {unsubscribeAuthor()}\r\n    })\r\n\r\n\r\n  }, []);\r\n\r\n  const PostSummary = ({ rawDate, rawTime, title, publisherName, id }) => (\r\n    <div\r\n      className=\"next-post\"\r\n      onClick={() => {\r\n        setSelected(id);\r\n        setModalState(true);\r\n      }}\r\n    >\r\n      <p className=\"next-post-item\">\r\n        <span className=\"span-item\">{t(\"calendar.date\")}</span>\r\n        {`${rawDate} ${rawTime}`}\r\n      </p>\r\n      <p className=\"next-post-item clipped\">\r\n        <span className=\"span-item\">{t(\"calendar.content\")}</span>\r\n        {title}\r\n      </p>\r\n      {publisherName && <p className=\"next-post-item clipped\">\r\n        <span className=\"span-item\">{t(\"calendar.publish\")}</span>\r\n        {publisherName}\r\n      </p>}\r\n    </div>\r\n  );\r\n\r\n  const NextPosts = () => (\r\n    <div id=\"next-posts-container\">\r\n      {eventsList.length === 0 ? (\r\n        <img src={empty} alt=\"empty\" className=\"empty-img\" />\r\n      )\r\n        :\r\n        // <Scrollbars style={scrollbarStyle}>\r\n        <div className=\"posts-container\">\r\n          {eventsList.map(({ itemId, ...data }) => (\r\n            <PostSummary key={itemId} {...data} />\r\n          ))}\r\n        </div>\r\n        // </Scrollbars>\r\n      }\r\n    </div>\r\n  );\r\n\r\n  const HeaderText = () => (\r\n    <div className=\"column\" id=\"schedule-container\" style={{ alignItems: \"flex-start\" }}>\r\n      <p id=\"schedule-title\" className=\"important-text\">{t(\"calendar.schedule\")}</p>\r\n      <p id=\"schedule-subtitle\" className=\"second-text\">{t(\"calendar.automate\")}</p>\r\n    </div>\r\n  );\r\n\r\n  const messageCalender = () => {\r\n    return {\r\n      allDay: t(\"calendar.messageCalendar.allDay\"),\r\n      previous: t(\"calendar.messageCalendar.previous\"),\r\n      next: t(\"calendar.messageCalendar.next\"),\r\n      today: t(\"calendar.messageCalendar.today\"),\r\n      month: t(\"calendar.messageCalendar.month\"),\r\n      week: t(\"calendar.messageCalendar.week\"),\r\n      day: t(\"calendar.messageCalendar.day\"),\r\n      agenda: t(\"calendar.messageCalendar.agenda\"),\r\n      date: t(\"calendar.messageCalendar.date\"),\r\n      time: t(\"calendar.messageCalendar.time\"),\r\n      event: t(\"calendar.messageCalendar.event\"), // Or anything you want\r\n      showMore: (total) => t(\"calendar.messageCalendar.showMore\", { total }),\r\n    };\r\n  };\r\n\r\n  const LeftPart = () => (\r\n    <div className=\"column\" style={{ alignItems: \"flex-start\" }}>\r\n      <HeaderText />\r\n      <Calendar\r\n        messages={messageCalender()}\r\n        className=\"calendar\"\r\n        popup\r\n        step={60}\r\n        localizer={localizer}\r\n        defaultDate={new Date()}\r\n        defaultView=\"month\"\r\n        culture={i18n.language}\r\n        events={eventsList}\r\n        drilldownView=\"week\"\r\n        style={CALENDAR_STYLE}\r\n        views={CALENDAR_VIEWS}\r\n        selectable\r\n        onSelectSlot={({ start }) => setModalState(true)}\r\n        onSelectEvent={(event, e) => {\r\n          setSelected(event.id);\r\n          setModalState(true);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  const CreatePost = () => (\r\n    <div\r\n      className=\"cta-container\"\r\n      style={{ backgroundColor: Colors.shade1, margin: \"20px\" }}\r\n      onClick={() => setModalState(true)}\r\n    >\r\n      <p style={{ fontSize: \"16px\" }} className=\"cta-text\">\r\n        {t(\"calendar.create\")}\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  const UpcomingPosts = () => (\r\n      <p \r\n        className=\"upcoming-text\"\r\n        style={{ backgroundColor: Colors.primary }}>\r\n          {t(\"calendar.upcoming\")}\r\n      </p>\r\n  );\r\n\r\n  const RightPart = () => (\r\n    <div className=\"column\" style={{ justifyContent: \"flex-start\" }}>\r\n      <UpcomingPosts />\r\n      <NextPosts />\r\n      <CreatePost />\r\n      <CreationModal\r\n        isOpen={modalOpen}\r\n        handleClose={handleClose}\r\n        data={selected ? eventsList.filter((e) => e.id === selected)[0] : null}\r\n        role={role}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {/* <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\"/> */}\r\n      <Header {...props} />\r\n      <div className=\"fakenav\"></div>\r\n      <div className=\"wrapper\">\r\n        <LeftPart />\r\n        <RightPart />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Mycalendar;\r\n","import React, { memo, useMemo } from \"react\";\r\nimport Header from \"../../components/header/header\";\r\n\r\nimport team from \"../../assets/team.svg\"\r\nimport setup from \"../../assets/setup.svg\"\r\nimport example from \"../../assets/exemple.png\"\r\n\r\nimport \"./about.css\"\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst md = require(\"markdown-it\")()\r\n  .use(require(\"markdown-it-mark\"));\r\n\r\nconst getContent = (t, key) => {\r\n  const contentArr = t(\"about.text.\" + key, { returnObjects: true });\r\n  console.log(contentArr)\r\n  return contentArr.map(c => <p className=\"about-text\" dangerouslySetInnerHTML={{ __html: md.render(c) }} />)\r\n}\r\n\r\nconst Section = ({ title, image, content }) => (\r\n  <div className=\"section-container\">\r\n    <div className=\"column\" style={{ alignItems: \"flex-start\" }}>\r\n      <p className=\"section-title\">{title}</p>\r\n      {content}\r\n    </div>\r\n    <div className=\"column\">\r\n      <img src={image} alt={title} className=\"right-image\" />\r\n    </div>\r\n  </div>\r\n)\r\n\r\nconst About = memo((props) => {\r\n  const { t } = useTranslation();\r\n  const usageContent = useMemo(() => getContent(t, 'usage'), [t]);\r\n  const guideContent = useMemo(() => getContent(t, 'guide'), [t]);\r\n  const teamContent = useMemo(() => getContent(t, 'team'), [t]);\r\n  return (\r\n    <div className=\"home-container\">\r\n      <Header {...props} />\r\n      <div className=\"fakenav\"></div>\r\n      <div className=\"home-wrapper\" style={{ flexDirection: \"column\" }}>\r\n        <Section title={t(\"about.title.usage\")} image={setup} content={usageContent} />\r\n        <Section title={t(\"about.title.guide\")} image={example} content={guideContent} />\r\n        <Section title={t(\"about.title.team\")} image={team} content={teamContent} />\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default About;\r\n","import React, { useEffect } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"../../provider/auth\";\r\nimport FeedLogo from \"../feedlogo/feedlogo\";\r\n\r\nimport \"./redirectedRoute.css\";\r\n\r\nconst RedirectedRoute = ({ path, comp: Component, redirect, needToBeConnected, ...rest }) => {\r\n  const auth = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (needToBeConnected && !auth.authStatus.haveTriedLogin) auth.signIn(false, null)\r\n  }, [auth, needToBeConnected])\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if (!auth.authStatus.haveTriedLogin && needToBeConnected) {\r\n          return (\r\n            <div className=\"center\">\r\n              <FeedLogo size={100} animated={true} isMonotone={false} />\r\n            </div>\r\n          )\r\n        }\r\n        else {\r\n          if ((auth.authStatus.isConnected && needToBeConnected) || (!auth.authStatus.isConnected && !needToBeConnected)) {\r\n            return <Component {...props} />;\r\n          } else {\r\n            return (\r\n              <Redirect\r\n                to={{\r\n                  pathname: redirect,\r\n                  state: {\r\n                    from: props.location\r\n                  }\r\n                }}\r\n              />\r\n            );\r\n          }\r\n        }\r\n      }\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default RedirectedRoute;\r\n","import React from \"react\";\r\nimport { useAuth } from \"../../provider/auth\";\r\nimport FeedLogo from \"../feedlogo/feedlogo\";\r\n\r\nconst LoadingScreen = (props) => {\r\n  const auth = useAuth();\r\n  return (\r\n      <>\r\n      {\r\n        !auth.authStatus.firebaseTestLogin ?\r\n        <div className=\"center\">\r\n            <FeedLogo size={100} animated={true} isMonotone={false} />\r\n        </div>\r\n        :\r\n        <>\r\n            {props.children}\r\n        </>\r\n      }\r\n      </>\r\n  );\r\n};\r\n\r\nexport default LoadingScreen;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Home from \"./view/home/home\";\r\nimport Login from \"./view/login/login\";\r\nimport MyCalendar from \"./view/calendar/calendar\";\r\nimport About from \"./view/about/about\";\r\nimport RedirectedRoute from \"./components/redirectedRoute/redirectedRoute\";\r\nimport LoadingScreen from \"./components/loadingScreen/loadingScreen\";\r\nimport { ProvideAuth } from \"./provider/auth.js\";\r\n\r\nimport \"./App.css\";\r\n\r\nexport const App = () => (\r\n  <BrowserRouter>\r\n    <ProvideAuth>\r\n      <LoadingScreen>\r\n        <Switch>\r\n            <RedirectedRoute exact path=\"/dashboard\" comp={(MyCalendar)} connected redirect=\"/\" needToBeConnected={true}/>\r\n            <RedirectedRoute exact path=\"/\" comp={Home} redirect=\"/dashboard\" needToBeConnected={false}/>\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/about\" component={About} />\r\n            <Route path=\"*\" component={() => <Redirect to=\"/\" />} />\r\n        </Switch>\r\n      </LoadingScreen>\r\n    </ProvideAuth>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './i18n';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}